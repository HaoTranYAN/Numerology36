{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/script/Detail.ts"],"names":["_decorator","Component","Node","RichText","Label","Prefab","ScrollView","director","sys","instantiate","AudioManager","Languages","i18n","Constant","TypeAction","CommonTS","PrefabCountNumber","PrefabDetailYourNumber","ccclass","property","Detail","onLoad","initLayout","start","update","deltaTime","checkPlayMusic","hideDialogInfo","tinhNumber","self","setTimeout","addPrefabForDetail","preloadScene","window","PERIOD1","PERIOD2","PERIOD3","addPrefabPeriod","LIFE_PATH","RULING_NUMBER","DESTINY","PERSONAL_YEAR","KARMIC_DEBT","addPrefabMainNumber","backScreen","loadPeriodCycle","loadHome","language","getLanguage","init","dataUser","JSON","parse","localStorage","getItem","PERSONAL","indexByName","tinhSoTheoTen","nameText","nameDestiny","tinhNameDestiny","soChuDao","tinhSoChuDao","soDuongDoi","tinhSoDuongDoi","date","Date","namCaNhan","tinhPersonalDay","yearForecast","period","tinhGiaiDoan","karmicDebt","loadDataKarmic","loadData","lblTitle","string","toUpperCase","updateSceneRenderers","number","t","getFullYear","gd1","gd2","gd3","addPrefab","len","length","addPrefabCountNumber","toString","replace","i","dataNumber","typeNumber","nodeText","prefabDetailYourNumber","name","cell","getComponent","updateData","content","addChild","str","prefabCountNumber","nodeNumber","prefabPeriod","prefabMainNumbers","clickInfo","playSoundClick","bgInfo","active","showDialogInfo","clickCloseInfo","scrollView","node","bgTop","loadDataInfo","lblTitleInfo","richTextContentInfo","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,Q,OAAAA,Q;AACAC,MAAAA,K,OAAAA,K;AACAC,MAAAA,M,OAAAA,M;AACAC,MAAAA,U,OAAAA,U;AACAC,MAAAA,Q,OAAAA,Q;AACAC,MAAAA,G,OAAAA,G;AACAC,MAAAA,W,OAAAA,W;;AAGOC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,S,iBAAAA,S;;AACGC,MAAAA,I;;AACHC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,U,iBAAAA,U;;AACVC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,sB,iBAAAA,sB;;;;;;;;;OAPH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBnB,U;;wBASjBoB,M,WADZF,OAAO,CAAC,QAAD,C,UAELC,QAAQ,CAAChB,QAAD,C,UAGRgB,QAAQ,CAACf,KAAD,C,UAGRe,QAAQ,CAACf,KAAD,C,UAGRe,QAAQ,CAACjB,IAAD,C,UAGRiB,QAAQ,CAACd,MAAD,C,UAGRc,QAAQ,CAACd,MAAD,C,UAGRc,QAAQ,CAACb,UAAD,C,UAGRa,QAAQ,CAACjB,IAAD,C,WAGRiB,QAAQ,CAACjB,IAAD,C,WAERiB,QAAQ,CAACd,MAAD,C,WAGRc,QAAQ,CAACd,MAAD,C,2BA/BX,MACae,MADb,SAC4BnB,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAiCpCoB,QAAAA,MAAM,GAAG;AACP,eAAKC,UAAL;AACD;;AACDC,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAE5BH,QAAAA,UAAU,GAAG;AACX;AAAA;AAAA,4CAAaI,cAAb;AACA,eAAKC,cAAL;AACA,eAAKC,UAAL;AACA,cAAIC,IAAI,GAAG,IAAX;AAEAC,UAAAA,UAAU,CAAC,YAAY;AACrBD,YAAAA,IAAI,CAACE,kBAAL;AACD,WAFS,EAEP,EAFO,CAAV;AAGAD,UAAAA,UAAU,CAAC,MAAM;AACf,iBAAKE,YAAL;AACD,WAFS,EAEP,EAFO,CAAV;AAMC;;AAEDA,QAAAA,YAAY,GAAE;AACZzB,UAAAA,QAAQ,CAACyB,YAAT,CAAsB,MAAtB,EAA6B,YAAU,CAAE,CAAzC;AACAzB,UAAAA,QAAQ,CAACyB,YAAT,CAAsB,aAAtB,EAAoC,YAAU,CAAE,CAAhD;AAGD;;AACHD,QAAAA,kBAAkB,GAAG;AACnB,kBAAQE,MAAM,CAAC,YAAD,CAAd;AACE,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACE,mBAAKC,eAAL;AACA;;AAEF,iBAAK;AAAA;AAAA,0CAAWC,SAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,aAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,aAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,WAAhB;AACE,mBAAKC,mBAAL;AAEA;;AACF;AACE;AAhBJ;AAkBD;;AACDC,QAAAA,UAAU,GAAG;AACX,kBAAQX,MAAM,CAAC,YAAD,CAAd;AACE,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACA,iBAAK;AAAA;AAAA,0CAAWC,OAAhB;AACE,mBAAKS,eAAL;AACA;;AACF;AACE,mBAAKC,QAAL;AAEA;AATJ;AAWD;;AAEDlB,QAAAA,UAAU,GAAG;AACX,cAAImB,QAAQ,GAAG;AAAA;AAAA,sCAAUC,WAAV,EAAf;AACApC,UAAAA,IAAI,CAACqC,IAAL,CAAUF,QAAV;AAEA,cAAIG,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW5C,GAAG,CAAC6C,YAAJ,CAAiBC,OAAjB,CAAyB;AAAA;AAAA,oCAASC,QAAlC,CAAX,CAAf;AACA,cAAIC,WAAW,GAAG;AAAA;AAAA,oCAASC,aAAT,CAAuBP,QAAQ,CAACQ,QAAhC,CAAlB;AACA,cAAIC,WAAW,GAAG;AAAA;AAAA,oCAASC,eAAT,CAAyBV,QAAQ,CAACQ,QAAlC,CAAlB;AACA,cAAIG,QAAQ,GAAG;AAAA;AAAA,oCAASC,YAAT,CAAsBZ,QAAtB,CAAf;AACA,cAAIa,UAAU,GAAG;AAAA;AAAA,oCAASC,cAAT,CAAwBd,QAAxB,CAAjB;AACA,cAAIe,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,cAAIC,SAAS,GAAG;AAAA;AAAA,oCAASC,eAAT,CAAyBlB,QAAzB,EAAmCe,IAAnC,EAAyCI,YAAzD;AACA,cAAIC,MAAM,GAAG;AAAA;AAAA,oCAASC,YAAT,CAAsBrB,QAAtB,CAAb;AACA,cAAIsB,UAAU,GAAG;AAAA;AAAA,oCAASA,UAAT,CAAoBtB,QAApB,CAAjB,CAZW,CAaX;;AAEA,cAAIjB,MAAM,CAAC,YAAD,CAAN,IAAwB;AAAA;AAAA,wCAAWS,WAAvC,EAAoD;AAClD,iBAAK+B,cAAL,CAAoBD,UAApB;AACD,WAFD,MAEO;AACL,iBAAKE,QAAL,CACEb,QADF,EAEEE,UAFF,EAGEI,SAHF,EAIEG,MAJF,EAKEd,WALF,EAMEG,WANF;AAQD;;AACD,eAAKgB,QAAL,CAAcC,MAAd,GAAuB,KAAKD,QAAL,CAAcC,MAAd,CAAqBC,WAArB,EAAvB;AACAjE,UAAAA,IAAI,CAACkE,oBAAL;AACD;;AAEDJ,QAAAA,QAAQ,CAACb,QAAD,EAAWE,UAAX,EAAuBI,SAAvB,EAAkCG,MAAlC,EAA0Cd,WAA1C,EAAuDG,WAAvD,EAAoE;AAC1E,cAAIoB,MAAM,GAAG,CAAb;AACA,cAAId,IAAI,GAAG,IAAIC,IAAJ,EAAX;;AACA,kBAAQjC,MAAM,CAAC,YAAD,CAAd;AACE,iBAAK;AAAA;AAAA,0CAAWM,aAAhB;AACE;AACAwC,cAAAA,MAAM,GAAGlB,QAAT;AACA,mBAAKc,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,cAAP,CAAvB;AACA;;AACF,iBAAK;AAAA;AAAA,0CAAWvC,aAAhB;AACE;AACAsC,cAAAA,MAAM,GAAGZ,SAAT;AACA,mBAAKQ,QAAL,CAAcC,MAAd,GACEhE,IAAI,CAACoE,CAAL,CAAO,cAAP,IAAyB,GAAzB,GAA+Bf,IAAI,CAACgB,WAAL,EADjC;AAEA;;AAEF,iBAAK;AAAA;AAAA,0CAAWzC,OAAhB;AACEuC,cAAAA,MAAM,GAAGpB,WAAT;AACA,mBAAKgB,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAAvB,CAFF,CAGE;;AACA;;AACF,iBAAK;AAAA;AAAA,0CAAW1C,SAAhB;AACEyC,cAAAA,MAAM,GAAGhB,UAAT;AACA,mBAAKY,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,UAAP,CAAvB;AACA;;AACF,iBAAK;AAAA;AAAA,0CAAW9C,OAAhB;AACE6C,cAAAA,MAAM,GAAGT,MAAM,CAACY,GAAhB;AACA,mBAAKP,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAAvB;AACA;;AACF,iBAAK;AAAA;AAAA,0CAAW7C,OAAhB;AACE4C,cAAAA,MAAM,GAAGT,MAAM,CAACa,GAAhB;AACA,mBAAKR,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAAvB;AACA;;AACF,iBAAK;AAAA;AAAA,0CAAW5C,OAAhB;AACE2C,cAAAA,MAAM,GAAGT,MAAM,CAACc,GAAhB;AACA,mBAAKT,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAAvB;AACA;;AACF,oBAlCF,CAmCE;;AAnCF;;AAqCA,eAAKK,SAAL,CAAeN,MAAf;AACD;;AAEDN,QAAAA,cAAc,CAACD,UAAD,EAAa;AACzB,eAAKG,QAAL,CAAcC,MAAd,GAAuBhE,IAAI,CAACoE,CAAL,CAAO,YAAP,CAAvB;AAEA,cAAIM,GAAG,GAAGd,UAAU,CAACe,MAArB;;AACA,cAAID,GAAG,IAAI,CAAX,EAAc;AACZ,iBAAKE,oBAAL,CAA0B,GAA1B;AACD,WAFD,MAEO;AACL,iBAAKA,oBAAL,CAA0BhB,UAAU,CAACiB,QAAX,GAAsBC,OAAtB,CAA8B,IAA9B,EAAoC,IAApC,CAA1B;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,GAApB,EAAyBK,CAAC,EAA1B,EAA8B;AAC5B,mBAAKN,SAAL,CAAeb,UAAU,CAACmB,CAAD,CAAzB;AACD;AACF;AACF;;AAEDN,QAAAA,SAAS,CAACO,UAAD,EAAa;AACpB,cAAIC,UAAsB,GAAG5D,MAAM,CAAC,YAAD,CAAnC;AACA,cAAI6D,QAAQ,GAAGrF,WAAW,CAAC,KAAKsF,sBAAN,CAA1B;AACAD,UAAAA,QAAQ,CAACE,IAAT,GAAgB,4BAAhB;AACA,cAAIC,IAAI,GAAGH,QAAQ,CAACI,YAAT;AAAA;AAAA,+DAAX;AACAD,UAAAA,IAAI,CAACE,UAAL,CAAgBP,UAAhB,EAA4BC,UAA5B;AACA,eAAKO,OAAL,CAAaC,QAAb,CAAsBP,QAAtB;AACD;;AAEDN,QAAAA,oBAAoB,CAACc,GAAD,EAAM;AACxB,cAAIR,QAAQ,GAAGrF,WAAW,CAAC,KAAK8F,iBAAN,CAA1B;AACAT,UAAAA,QAAQ,CAACE,IAAT,GAAgB,iBAAhB;AACA,cAAIC,IAAI,GAAGH,QAAQ,CAACI,YAAT;AAAA;AAAA,qDAAX;AACAD,UAAAA,IAAI,CAACE,UAAL,CAAgBG,GAAhB,EAAqB;AAAA;AAAA,wCAAW5D,WAAhC;AACA,eAAK0D,OAAL,CAAaC,QAAb,CAAsBP,QAAtB;AACD;;AAEDzD,QAAAA,eAAe,GAAG;AAChB,cAAImE,UAAU,GAAG/F,WAAW,CAAC,KAAKgG,YAAN,CAA5B;AACAD,UAAAA,UAAU,CAACR,IAAX,GAAkB,YAAlB;AACA,eAAKI,OAAL,CAAaC,QAAb,CAAsBG,UAAtB;AACD;;AAED7D,QAAAA,mBAAmB,GAAG;AACpB,cAAI6D,UAAU,GAAG/F,WAAW,CAAC,KAAKiG,iBAAN,CAA5B;AACAF,UAAAA,UAAU,CAACR,IAAX,GAAkB,iBAAlB;AACA,eAAKI,OAAL,CAAaC,QAAb,CAAsBG,UAAtB;AACD;;AAEDG,QAAAA,SAAS,GAAG;AACV;AAAA;AAAA,4CAAaC,cAAb;AACA,eAAKC,MAAL,CAAYC,MAAZ,IAAsB,IAAtB,GAA6B,KAAKnF,cAAL,EAA7B,GAAqD,KAAKoF,cAAL,EAArD;AACD;;AAEDC,QAAAA,cAAc,GAAG;AACf;AAAA;AAAA,4CAAaJ,cAAb;AACA,eAAKjF,cAAL;AACD;;AAEDA,QAAAA,cAAc,GAAG;AACf,eAAKkF,MAAL,CAAYC,MAAZ,GAAqB,KAArB;AACA,eAAKG,UAAL,CAAgBC,IAAhB,CAAqBJ,MAArB,GAA8B,IAA9B;AACA,eAAKK,KAAL,CAAWL,MAAX,GAAkB,IAAlB;AACD;;AAEDC,QAAAA,cAAc,GAAG;AACf,eAAKF,MAAL,CAAYC,MAAZ,GAAqB,IAArB;AACA,eAAKG,UAAL,CAAgBC,IAAhB,CAAqBJ,MAArB,GAA8B,KAA9B;AACA,eAAKK,KAAL,CAAWL,MAAX,GAAkB,KAAlB;AAEA,eAAKM,YAAL;AACD;;AACDA,QAAAA,YAAY,GAAG;AACb,kBAAQnF,MAAM,CAAC,YAAD,CAAd;AACE,iBAAK;AAAA;AAAA,0CAAWK,SAAhB;AACE,mBAAK+E,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,UAAP,CAA3B;AAEA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,iBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAWzC,aAAhB;AACE,mBAAK8E,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,cAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,qBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAWxC,OAAhB;AACE,mBAAK6E,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,gBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAWvC,aAAhB;AACE,mBAAK4E,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,cAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,qBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAWtC,WAAhB;AACE,mBAAK2E,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,YAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,mBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAW9C,OAAhB;AACE,mBAAKmF,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,gBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAW7C,OAAhB;AACE,mBAAKkF,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,gBADkD,CAApD;AAGA;;AAEF,iBAAK;AAAA;AAAA,0CAAW5C,OAAhB;AACE,mBAAKiF,YAAL,CAAkBzC,MAAlB,GAA2BhE,IAAI,CAACoE,CAAL,CAAO,SAAP,CAA3B;AACA,mBAAKsC,mBAAL,CAAyB1C,MAAzB,uBAAoDhE,IAAI,CAACoE,CAAL,CAClD,gBADkD,CAApD;AAGA;AAxDJ;AA0DD;;AAEDlC,QAAAA,QAAQ,GAAG;AACT;AAAA;AAAA,4CAAa8D,cAAb;AAEArG,UAAAA,QAAQ,CAACgH,SAAT,CAAmB,MAAnB;AACD;;AAED1E,QAAAA,eAAe,GAAG;AAChB;AAAA;AAAA,4CAAa+D,cAAb;AAEArG,UAAAA,QAAQ,CAACgH,SAAT,CAAmB,aAAnB;AACD;;AApTmC,O;;;;;iBAEG,I;;;;;;;iBAGd,I;;;;;;;iBAGI,I;;;;;;;iBAGb,I;;;;;;;iBAGY,I;;;;;;;iBAGL,I;;;;;;;iBAGE,I;;;;;;;iBAGV,I;;;;;;;iBAGD,I;;;;;;;iBAEmB,I;;;;;;;iBAGL,I","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  RichText,\n  Label,\n  Prefab,\n  ScrollView,\n  director,\n  sys,\n  instantiate,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { Constant, TypeAction } from \"../common/Constant\";\nimport { CommonTS } from \"../common/CommonTS\";\nimport { PrefabCountNumber } from \"../prefab/PrefabCountNumber\";\nimport { PrefabDetailYourNumber } from \"../prefab/PrefabDetailYourNumber\";\n@ccclass(\"Detail\")\nexport class Detail extends Component {\n  @property(RichText)\n  richTextContentInfo: RichText | null = null;\n\n  @property(Label)\n  lblTitle: Label | null = null;\n\n  @property(Label)\n  lblTitleInfo: Label | null = null;\n\n  @property(Node)\n  content: Node = null;\n\n  @property(Prefab)\n  prefabMainNumbers: Prefab = null;\n\n  @property(Prefab)\n  prefabPeriod: Prefab = null;\n\n  @property(ScrollView)\n  scrollView: ScrollView = null;\n\n  @property(Node)\n  bgInfo: Node = null;\n\n  @property(Node)\n  bgTop: Node = null;\n  @property(Prefab)\n  prefabDetailYourNumber: Prefab = null;\n\n  @property(Prefab)\n  prefabCountNumber: Prefab = null;\n\n  onLoad() {\n    this.initLayout();\n  }\n  start() {}\n\n  update(deltaTime: number) {}\n\n  initLayout() {\n    AudioManager.checkPlayMusic();\n    this.hideDialogInfo();\n    this.tinhNumber();\n    var self = this;\n\n    setTimeout(function () {\n      self.addPrefabForDetail();\n    }, 50);\n    setTimeout(() => {\n      this.preloadScene();\n    }, 50);\n  \n  \n  \n    }\n  \n    preloadScene(){\n      director.preloadScene(\"Home\",function(){})\n      director.preloadScene(\"PeriodCycle\",function(){})\n\n\n    }\n  addPrefabForDetail() {\n    switch (window[\"typeAction\"]) {\n      case TypeAction.PERIOD1:\n      case TypeAction.PERIOD2:\n      case TypeAction.PERIOD3:\n        this.addPrefabPeriod();\n        break;\n\n      case TypeAction.LIFE_PATH:\n      case TypeAction.RULING_NUMBER:\n      case TypeAction.DESTINY:\n      case TypeAction.PERSONAL_YEAR:\n      case TypeAction.KARMIC_DEBT:\n        this.addPrefabMainNumber();\n\n        break;\n      default:\n        break;\n    }\n  }\n  backScreen() {\n    switch (window[\"typeAction\"]) {\n      case TypeAction.PERIOD1:\n      case TypeAction.PERIOD2:\n      case TypeAction.PERIOD3:\n        this.loadPeriodCycle();\n        break;\n      default:\n        this.loadHome();\n\n        break;\n    }\n  }\n\n  tinhNumber() {\n    var language = Languages.getLanguage();\n    i18n.init(language);\n\n    var dataUser = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL));\n    var indexByName = CommonTS.tinhSoTheoTen(dataUser.nameText);\n    var nameDestiny = CommonTS.tinhNameDestiny(dataUser.nameText);\n    var soChuDao = CommonTS.tinhSoChuDao(dataUser);\n    var soDuongDoi = CommonTS.tinhSoDuongDoi(dataUser);\n    var date = new Date();\n    var namCaNhan = CommonTS.tinhPersonalDay(dataUser, date).yearForecast;\n    var period = CommonTS.tinhGiaiDoan(dataUser);\n    var karmicDebt = CommonTS.karmicDebt(dataUser);\n    // var karmicLesson = common.karmicLesson(dataUser.nameText);\n\n    if (window[\"typeAction\"] == TypeAction.KARMIC_DEBT) {\n      this.loadDataKarmic(karmicDebt);\n    } else {\n      this.loadData(\n        soChuDao,\n        soDuongDoi,\n        namCaNhan,\n        period,\n        indexByName,\n        nameDestiny\n      );\n    }\n    this.lblTitle.string = this.lblTitle.string.toUpperCase();\n    i18n.updateSceneRenderers();\n  }\n\n  loadData(soChuDao, soDuongDoi, namCaNhan, period, indexByName, nameDestiny) {\n    var number = 0;\n    var date = new Date();\n    switch (window[\"typeAction\"]) {\n      case TypeAction.RULING_NUMBER:\n        // code block\n        number = soChuDao;\n        this.lblTitle.string = i18n.t(\"MASTERNUMBER\");\n        break;\n      case TypeAction.PERSONAL_YEAR:\n        // code block\n        number = namCaNhan;\n        this.lblTitle.string =\n          i18n.t(\"PERSONALYEAR\") + \" \" + date.getFullYear();\n        break;\n\n      case TypeAction.DESTINY:\n        number = nameDestiny;\n        this.lblTitle.string = i18n.t(\"DESTINY\");\n        // code block\n        break;\n      case TypeAction.LIFE_PATH:\n        number = soDuongDoi;\n        this.lblTitle.string = i18n.t(\"LIFEPATH\");\n        break;\n      case TypeAction.PERIOD1:\n        number = period.gd1;\n        this.lblTitle.string = i18n.t(\"PERIOD1\");\n        break;\n      case TypeAction.PERIOD2:\n        number = period.gd2;\n        this.lblTitle.string = i18n.t(\"PERIOD2\");\n        break;\n      case TypeAction.PERIOD3:\n        number = period.gd3;\n        this.lblTitle.string = i18n.t(\"PERIOD3\");\n        break;\n      default:\n      // code block\n    }\n    this.addPrefab(number);\n  }\n\n  loadDataKarmic(karmicDebt) {\n    this.lblTitle.string = i18n.t(\"KARMICDEBT\");\n\n    var len = karmicDebt.length;\n    if (len == 0) {\n      this.addPrefabCountNumber(\"0\");\n    } else {\n      this.addPrefabCountNumber(karmicDebt.toString().replace(/,/g, \", \"));\n      for (let i = 0; i < len; i++) {\n        this.addPrefab(karmicDebt[i]);\n      }\n    }\n  }\n\n  addPrefab(dataNumber) {\n    var typeNumber: TypeAction = window[\"typeAction\"];\n    var nodeText = instantiate(this.prefabDetailYourNumber);\n    nodeText.name = \"nodePrefabDetailYourNumber\";\n    var cell = nodeText.getComponent(PrefabDetailYourNumber);\n    cell.updateData(dataNumber, typeNumber);\n    this.content.addChild(nodeText);\n  }\n\n  addPrefabCountNumber(str) {\n    var nodeText = instantiate(this.prefabCountNumber);\n    nodeText.name = \"nodeCountNumber\";\n    var cell = nodeText.getComponent(PrefabCountNumber);\n    cell.updateData(str, TypeAction.KARMIC_DEBT);\n    this.content.addChild(nodeText);\n  }\n\n  addPrefabPeriod() {\n    var nodeNumber = instantiate(this.prefabPeriod);\n    nodeNumber.name = \"nodePeriod\";\n    this.content.addChild(nodeNumber);\n  }\n\n  addPrefabMainNumber() {\n    var nodeNumber = instantiate(this.prefabMainNumbers);\n    nodeNumber.name = \"nodeMainNumbers\";\n    this.content.addChild(nodeNumber);\n  }\n\n  clickInfo() {\n    AudioManager.playSoundClick();\n    this.bgInfo.active == true ? this.hideDialogInfo() : this.showDialogInfo();\n  }\n\n  clickCloseInfo() {\n    AudioManager.playSoundClick();\n    this.hideDialogInfo();\n  }\n\n  hideDialogInfo() {\n    this.bgInfo.active = false;\n    this.scrollView.node.active = true;\n    this.bgTop.active=true;\n  }\n\n  showDialogInfo() {\n    this.bgInfo.active = true;\n    this.scrollView.node.active = false;\n    this.bgTop.active=false;\n  \n    this.loadDataInfo();\n  }\n  loadDataInfo() {\n    switch (window[\"typeAction\"]) {\n      case TypeAction.LIFE_PATH:\n        this.lblTitleInfo.string = i18n.t(\"LIFEPATH\");\n\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGLIFEPATH\"\n        )}</color>`;\n        break;\n\n      case TypeAction.RULING_NUMBER:\n        this.lblTitleInfo.string = i18n.t(\"MASTERNUMBER\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGMASTERNUMBER\"\n        )}</color>`;\n        break;\n\n      case TypeAction.DESTINY:\n        this.lblTitleInfo.string = i18n.t(\"DESTINY\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGDESTINY\"\n        )}</color>`;\n        break;\n\n      case TypeAction.PERSONAL_YEAR:\n        this.lblTitleInfo.string = i18n.t(\"PERSONALYEAR\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGPERSONALYEAR\"\n        )}</color>`;\n        break;\n\n      case TypeAction.KARMIC_DEBT:\n        this.lblTitleInfo.string = i18n.t(\"KARMICDEBT\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGKARMICDEBT\"\n        )}</color>`;\n        break;\n\n      case TypeAction.PERIOD1:\n        this.lblTitleInfo.string = i18n.t(\"PERIOD1\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGPERIOD1\"\n        )}</color>`;\n        break;\n\n      case TypeAction.PERIOD2:\n        this.lblTitleInfo.string = i18n.t(\"PERIOD2\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGPERIOD2\"\n        )}</color>`;\n        break;\n\n      case TypeAction.PERIOD3:\n        this.lblTitleInfo.string = i18n.t(\"PERIOD3\");\n        this.richTextContentInfo.string = `<color=#05042C>${i18n.t(\n          \"MEANINGPERIOD3\"\n        )}</color>`;\n        break;\n    }\n  }\n\n  loadHome() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Home\");\n  }\n\n  loadPeriodCycle() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"PeriodCycle\");\n  }\n}\n"]}