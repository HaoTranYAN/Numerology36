{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/script/Home.ts"],"names":["_decorator","Component","Node","Label","director","sys","Prefab","instantiate","AudioManager","Constant","TypeAction","ccclass","property","Home","onLoad","resetValueWindow","initLayout","dataUser","JSON","parse","localStorage","getItem","PERSONAL","undefined","lblFullName","string","fullName","lblDateOfBirth","parseInt","dayOfBirth","monthOfBirth","yearOfBirth","sex","imgFemale","active","imgMale","addPrefab","setTimeout","preloadScene","nodeNumber","prefabMainNumbers","name","content","addChild","tools","prefabTools","start","checkPlayMusic","update","deltaTime","window","NONE","loadProfile","playSoundClick","loadScene","loadSettings"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  Label,\n  director,\n  sys,\n  Prefab,\n  instantiate,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport { AudioManager } from \"../common/AudioManager\";\n\nimport { Constant, TypeAction } from \"../common/Constant\";\n\n@ccclass(\"Home\")\nexport class Home extends Component {\n  @property(Label)\n  lblFullName: Label = null;\n\n  @property(Label)\n  lblDateOfBirth: Label = null;\n\n  @property(Node)\n  imgFemale: Node = null;\n\n  @property(Node)\n  imgMale: Node = null;\n\n  @property(Node)\n  content: Node = null;\n\n  @property(Prefab)\n  prefabTools: Prefab = null;\n\n  @property(Prefab)\n  prefabMainNumbers: Prefab = null;\n\n  onLoad() {\n    this.resetValueWindow();\n    this.initLayout();\n  }\n\n  initLayout() {\n    var dataUser = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL));\n    // ////console.log(\"Profile......\");\n    if (dataUser == undefined || dataUser == null) {\n      // //return;\n    } else {\n      this.lblFullName.string = dataUser.fullName;\n      this.lblDateOfBirth.string = `${parseInt(dataUser.dayOfBirth)}/${parseInt(\n        dataUser.monthOfBirth\n      )}/${parseInt(dataUser.yearOfBirth)}`;\n\n      if (dataUser.sex == 0) {\n        this.imgFemale.active = false;\n        this.imgMale.active = true;\n      } else {\n        this.imgFemale.active = true;\n        this.imgMale.active = false;\n      }\n    }\n    this.addPrefab();\n    setTimeout(() => {\n      this.preloadScene();\n    }, 50);\n  }\n\n  preloadScene() {\n    director.preloadScene(\"PeriodCycle\", function () {});\n    director.preloadScene(\"Detail\", function () {});\n  }\n\n  addPrefab() {\n    var nodeNumber = instantiate(this.prefabMainNumbers);\n    nodeNumber.name = \"nodeNumber\";\n    this.content.addChild(nodeNumber);\n    var tools = instantiate(this.prefabTools);\n    tools.name = \"nodeTools\";\n    this.content.addChild(tools);\n  }\n\n  start() {\n    AudioManager.checkPlayMusic();\n  }\n\n  update(deltaTime: number) {}\n\n  resetValueWindow() {\n    window[\"typeAction\"] = TypeAction.NONE;\n  }\n\n  loadProfile() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Profile\");\n  }\n\n  loadSettings() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Settings\");\n  }\n}\n"]}