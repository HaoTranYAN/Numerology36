{"version":3,"sources":["file:///Users/haothanhit/Desktop/ThanSoHocV2/Numerology36/assets/prefab/PrefabLove.ts"],"names":["_decorator","Component","RichText","Label","assetManager","TextAsset","Languages","ccclass","property","PrefabLove","onLoad","initLayout","start","update","deltaTime","updateData","loveData","p1","number1","p2","number2","lblNumberYou","string","lblNumberPartner","language","getLanguage","url","loadData","self","bundle","getBundle","loadBundle","err","loadDir","texture","richTextContent","toString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,S,OAAAA,S;;AAC5DC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;4BAGjBS,U,WADZF,OAAO,CAAC,YAAD,C,UAGHC,QAAQ,CAACN,QAAD,C,UAITM,QAAQ,CAACL,KAAD,C,UAGPK,QAAQ,CAACL,KAAD,C,2BAVb,MACaM,UADb,SACgCR,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAWtCS,QAAAA,MAAM,GAAE;AAEJ,eAAKC,UAAL;AAEH;;AACDC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDH,QAAAA,UAAU,GAAE,CAGX,CA3BqC,CA6BtC;;;AACAI,QAAAA,UAAU,CAACC,QAAD,EAAW;AACjB,cAAIC,EAAE,GAAGD,QAAQ,CAACE,OAAlB;AACA,cAAIC,EAAE,GAAGH,QAAQ,CAACI,OAAlB;AACA,eAAKC,YAAL,CAAkBC,MAAlB,GAA2BL,EAA3B;AACA,eAAKM,gBAAL,CAAsBD,MAAtB,GAA+BH,EAA/B;AACA,cAAIK,QAAQ,GAAG;AAAA;AAAA,sCAAUC,WAAV,EAAf;AACA,cAAIC,GAAG,GAAG,EAAV;;AAEA,cAAGT,EAAE,GAAGE,EAAR,EAAY;AACX;AACD;AACCO,YAAAA,GAAG,GAAGF,QAAQ,GAAG,QAAX,GAAuBL,EAAvB,GAA2B,EAA3B,GAA+BF,EAArC;AACA,WAJD,MAIO;AACL;AACAS,YAAAA,GAAG,GAAGF,QAAQ,GAAG,QAAX,GAAsBP,EAAtB,GAA0B,EAA1B,GAA8BE,EAApC;AACD;;AACD,eAAKQ,QAAL,CAAcD,GAAd;AACD;AAEA;AACP;AACA;AACA;AACA;AACA;;;AACQC,QAAAA,QAAQ,CAACD,GAAD,EAAM;AACZ,cAAIE,IAAI,GAAG,IAAX;AACA,cAAIC,MAAM,GAAGzB,YAAY,CAAC0B,SAAb,CAAuB,MAAvB,CAAb;;AAEA,cAAID,MAAM,IAAI,IAAd,EAAoB;AAClBzB,YAAAA,YAAY,CAAC2B,UAAb,CAAwB,MAAxB,EAAgC,CAACC,GAAD,EAAMH,MAAN,KAAiB;AAC/CA,cAAAA,MAAM,CAACI,OAAP,CAAeP,GAAf,EAAoBrB,SAApB,EAA+B,UAAU2B,GAAV,EAAeE,OAAf,EAAwB;AACrDN,gBAAAA,IAAI,CAACO,eAAL,CAAqBb,MAArB,GAA8BY,OAAO,CAACE,QAAR,EAA9B;AACD,eAFD;AAGD,aAJD;AAKD,WAND,MAMO;AACHP,YAAAA,MAAM,CAACI,OAAP,CAAeP,GAAf,EAAoBrB,SAApB,EAA+B,UAAU2B,GAAV,EAAeE,OAAf,EAAwB;AACrD;AACAN,cAAAA,IAAI,CAACO,eAAL,CAAqBb,MAArB,GAA8BY,OAAO,CAACE,QAAR,EAA9B;AACD,aAHD;AAIH;AACF;;AAvEiC,O;;;;;iBAGZ,I;;;;;;;iBAIF,I;;;;;;;iBAGJ,I","sourcesContent":["import { _decorator, Component, Node, RichText, Label, assetManager, TextAsset } from 'cc';\nimport { Languages } from '../common/Language';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PrefabLove')\nexport class PrefabLove extends Component {\n\n    @property(RichText)\n    richTextContent: RichText=null;\n\n\n   @property(Label)\n    lblNumberPartner: Label=null;\n\n    @property(Label)\n    lblNumberYou: Label=null;\n    onLoad(){\n       \n        this.initLayout()\n\n    }\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    initLayout(){\n     \n\n    }\n\n    // update (dt) {}\n    updateData(loveData) {\n        var p1 = loveData.number1;\n        var p2 = loveData.number2;\n        this.lblNumberYou.string = p1;\n        this.lblNumberPartner.string = p2;\n        var language = Languages.getLanguage();\n        var url = \"\";\n        \n        if(p1 > p2) {\n         // url = language + \"/LoveData/\" + p2 +\"\" +p1;\n        // url = language + \"/LoveData/\" + p2 +\"\" +p1;\n         url = language + \"_love_\" +  p2 +\"\" +p1;\n        } else {\n          //url = language + \"/LoveData/\" + p1 +\"\" +p2;\n          url = language + \"_love_\" + p1 +\"\" +p2;\n        } \n        this.loadData(url);\n      }\n  \n       /**\n     * Hàm load Data từ bundle\n     * @param numberDay: Tên con số cần lấy (Đánh số theo thứ tự từ 1-9)\n     * @param \"Data\" : Tên bundle chứa\n     * @result : Nội dung về con số tương ứng \n     */\n        loadData(url) {\n          var self = this;\n          var bundle = assetManager.getBundle(\"data\");\n      \n          if (bundle == null) {\n            assetManager.loadBundle(\"data\", (err, bundle) => {\n              bundle.loadDir(url, TextAsset, function (err, texture) {\n                self.richTextContent.string = texture.toString();\n              });\n            });\n          } else {\n              bundle.loadDir(url, TextAsset, function (err, texture) {\n                ////console.log(texture)\n                self.richTextContent.string = texture.toString();\n              });\n          }\n        }\n}\n\n"]}