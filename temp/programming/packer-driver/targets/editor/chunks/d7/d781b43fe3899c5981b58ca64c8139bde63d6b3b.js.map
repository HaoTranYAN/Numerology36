{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/script/Splash.ts"],"names":["_decorator","Component","assetManager","sys","TextAsset","director","i18n","Languages","ccclass","property","PERSONAL","Splash","start","language","getLanguage","init","updateSceneRenderers","loadData","update","deltaTime","data","i","enName","viName","push","en_address","vi_address","en_period","vi_period","en_phone","vi_phone","en_rullingNumber","vi_rullingNumber","en_soul","vi_soul","en_karmicLesson","vi_karmicLesson","en_year","vi_year","en_lifePath","vi_lifePath","en_monthPersonal","vi_monthPersonal","en_daypersonal","vi_daypersonal","en_impresson","vi_impresson","en_namenumber","vi_namenumber","bundle","getBundle","dataUser","JSON","parse","localStorage","getItem","self","loadBundle","err","loadDir","toString","texture","undefined","loadProfile","loadHome","loadScene"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  Label,\n  assetManager,\n  sys,\n  TextAsset,\n  AssetManager,\n  director,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\nconst PERSONAL = \"DataUser\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\n\n@ccclass(\"Splash\")\nexport class Splash extends Component {\n  start() {\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    i18n.updateSceneRenderers();\n\n    // var dataUser = JSON.parse(sys.localStorage.getItem(PERSONAL));\n    // if (dataUser == null || dataUser == undefined) {\n    //     this.loadProfile();\n    //   } else {\n    //     // //this.loadHome();\n    //     this.loadHome();\n    //   }\n\n\n    // this.schedule(function() {\n    //   // Here this refers to component\n    // }, 5);\n\n   this.loadData();\n  }\n\n  update(deltaTime: number) {}\n\n  // /***************************************LOAD DATA****************************************** */\n  // /**\n  // * Load toàn bộ Data cần\n  // */\n  loadData() {\n    var data: Array<string> = [\n      \"vi_karmicdebt_0\",\n      \"vi_karmicdebt_13\",\n      \"vi_karmicdebt_14\",\n      \"vi_karmicdebt_16\",\n      \"vi_karmicdebt_19\",\n      \"en_karmicdebt_0\",\n      \"en_karmicdebt_13\",\n      \"en_karmicdebt_14\",\n      \"en_karmicdebt_16\",\n      \"en_karmicdebt_19\",\n      \"en_soul_11\",\n      \"en_soul_22\",\n      \"en_soul_33\",\n      \"vi_soul_11\",\n      \"vi_soul_22\",\n      \"vi_soul_33\",\n      \"en_address_11\",\n      \"en_address_22\",\n      \"vi_address_11\",\n      \"vi_address_22\",\n      \"en_period_11\",\n      \"vi_period_11\",\n      \"en_period_22\",\n      \"vi_period_22\",\n      \"en_rullingNumber_11\",\n      \"en_rullingNumber_22\",\n      \"vi_rullingNumber_11\",\n      \"vi_rullingNumber_22\",\n    ];\n    for (let i = 1; i <= 9; i++) {\n      let enName = \"en_love_1\" + i;\n      let viName = \"vi_love_1\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 2; i <= 9; i++) {\n      let enName = \"en_love_2\" + i;\n      let viName = \"vi_love_2\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 3; i <= 9; i++) {\n      let enName = \"en_love_3\" + i;\n      let viName = \"vi_love_3\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 4; i <= 9; i++) {\n      let enName = \"en_love_4\" + i;\n      let viName = \"vi_love_4\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 5; i <= 9; i++) {\n      let enName = \"en_love_5\" + i;\n      let viName = \"vi_love_5\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 6; i <= 9; i++) {\n      let enName = \"en_love_6\" + i;\n      let viName = \"vi_love_6\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 7; i <= 9; i++) {\n      let enName = \"en_love_7\" + i;\n      let viName = \"vi_love_7\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 8; i <= 9; i++) {\n      let enName = \"en_love_8\" + i;\n      let viName = \"vi_love_8\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    data.push(\"en_love_99\");\n    data.push(\"vi_love_99\");\n\n    for (let i = 1; i <= 9; i++) {\n      // //Địa chỉ\n      let en_address = \"en_address_\" + i;\n      let vi_address = \"vi_address_\" + i;\n      data.push(en_address);\n      data.push(vi_address);\n      // //Giai đoạn\n      let en_period = \"en_period_\" + i;\n      let vi_period = \"vi_period_\" + i;\n      data.push(en_period);\n      data.push(vi_period);\n\n      let en_phone = \"en_phone_\" + i;\n      let vi_phone = \"vi_phone_\" + i;\n      data.push(en_phone);\n      data.push(vi_phone);\n\n      let en_rullingNumber = \"en_rullingNumber_\" + i;\n      let vi_rullingNumber = \"vi_rullingNumber_\" + i;\n      data.push(en_rullingNumber);\n      data.push(vi_rullingNumber);\n\n      let en_soul = \"en_soul_\" + i;\n      let vi_soul = \"vi_soul_\" + i;\n      data.push(en_soul);\n      data.push(vi_soul);\n\n      let en_karmicLesson = \"en_karmicLesson_\" + i;\n      let vi_karmicLesson = \"vi_karmicLesson_\" + i;\n      data.push(en_karmicLesson);\n      data.push(vi_karmicLesson);\n\n      let en_year = \"en_year_\" + i;\n      let vi_year = \"vi_year_\" + i;\n      data.push(en_year);\n      data.push(vi_year);\n\n      let en_lifePath = \"en_lifepath_\" + i;\n      let vi_lifePath = \"vi_lifepath_\" + i;\n      data.push(en_lifePath);\n      data.push(vi_lifePath);\n\n      let en_monthPersonal = \"en_monthpersonal_\" + i;\n      let vi_monthPersonal = \"vi_monthpersonal_\" + i;\n      data.push(en_monthPersonal);\n      data.push(vi_monthPersonal);\n\n      let en_daypersonal = \"en_daypersonal_\" + i;\n      let vi_daypersonal = \"vi_daypersonal_\" + i;\n      data.push(en_daypersonal);\n      data.push(vi_daypersonal);\n\n      let en_impresson = \"en_impresson_\" + i;\n      let vi_impresson = \"vi_impresson_\" + i;\n      data.push(en_impresson);\n      data.push(vi_impresson);\n\n      let en_namenumber = \"en_namenumber_\" + i;\n      let vi_namenumber = \"vi_namenumber_\" + i;\n      data.push(en_namenumber);\n      data.push(vi_namenumber);\n    }\n\n\n\n\n    var bundle = assetManager.getBundle(\"data\");\n    var dataUser = JSON.parse(sys.localStorage.getItem(PERSONAL));\n    var self = this;\n\n    if (bundle == null) {\n      assetManager.loadBundle(\"data\", (err, bundle) => {\n        bundle.loadDir(data.toString(), TextAsset, function (err, texture) {\n          if (dataUser == null || dataUser == undefined) {\n            self.loadProfile();\n          } else {\n            // //this.loadHome();\n            self.loadHome();\n          }        });\n      });\n    } else {\n        bundle.loadDir(data.toString(), TextAsset, function (err, texture) {\n          ////console.log(texture)\n          if (dataUser == null || dataUser == undefined) {\n            self.loadProfile();\n          } else {\n            // //this.loadHome();\n            self.loadHome();\n          }        });\n    }\n    \n    \n  }\n\n  loadProfile() {\n    director.loadScene(\"Profile\");\n  }\n\n  loadHome() {\n    director.loadScene(\"Home\");\n  }\n}\n"]}