{"version":3,"sources":["file:///Users/haothanhit/Desktop/ThanSoHocV2/Numerology36/assets/script/Profile.ts"],"names":["_decorator","Component","Node","Label","EditBox","sys","director","Button","ToggleComponent","AudioManager","i18n","CommonTS","ccclass","property","PERSONAL","Profile","sex","onLoad","initLayout","start","checkPlayMusic","update","deltaTime","lblError","node","active","dataUser","JSON","parse","localStorage","getItem","undefined","btnClose","btnSignOut","imgFemale","imgMale","rdMale","isChecked","edtFullName","string","edtDay","edtMonth","edtYear","fullName","dayOfBirth","monthOfBirth","yearOfBirth","rdFemale","callback","event","customEventData","playSoundClick","validateInfo","d","m","y","name","t","checkIsNumber","day","parseInt","month","year","str","toLowerCase","text","removeVietnameseTones","isHopLe","isValidDay","saveDataInfo","nextScreen","nameText","fullname","setItem","stringify","loadHome","loadScene","exitScreen","signOut","format","result","toString","split","len","length","index","i","test","replace","trim"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  assert,\n  AudioSource,\n  Node,\n  Label,\n  EditBox,\n  sys,\n  director,\n  Button,\n  game,\n  EventHandler,\n  ToggleContainerComponent,\n  ToggleComponent,\n  Sprite,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport { AudioManager } from \"../common/AudioManager\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { CommonTS } from \"../common/CommonTS\";\nconst PERSONAL = \"DataUser\";\n\n\n@ccclass(\"Profile\")\nexport default class Profile extends Component {\n  @property(ToggleComponent)\n  rdMale: ToggleComponent = null;\n\n  @property(ToggleComponent)\n  rdFemale: ToggleComponent = null;\n\n  @property(Node)\n  imgFemale: Node = null;\n\n  @property(Node)\n  imgMale: Node = null;\n\n  @property(EditBox)\n  edtFullName: EditBox = null;\n\n  @property(EditBox)\n  edtDay: EditBox = null;\n\n  @property(EditBox)\n  edtMonth: EditBox = null;\n\n  @property(EditBox)\n  edtYear: EditBox = null;\n\n  @property(Label)\n  lblError: Label = null;\n\n\n  @property(Button)\n  btnClose: Button = null;\n\n  @property(Button)\n  btnSignOut: Button = null;\n\n  sex: number=0;\n\n\n  onLoad() {\n    this.initLayout()\n  }\n\n  start() {\n \n    AudioManager.checkPlayMusic()\n\n  }\n\n\n\n  update(deltaTime: number) {}\n\n\n  initLayout(){\n    this.lblError.node.active = false;\n    var dataUser = JSON.parse(sys.localStorage.getItem(PERSONAL));\n// ////console.log(\"Profile......\");\n    if (dataUser == undefined || dataUser == null) {\n    this.btnClose.node.active = false;\n    this.btnSignOut.node.active = false;\n    this.imgFemale.active = false;\n    this.imgMale.active = true;\n    this.rdMale.isChecked=true;\n    this.sex = 0;\n\n    this.edtFullName.string = \"\";\n    this.edtDay.string = \"\";\n    this.edtMonth.string = \"\";\n    this.edtYear.string = \"\";\n// //return;\n    } else {\n\n      this.btnClose.node.active = true;\n      this.btnSignOut.node.active = true;\n\n    this.edtFullName.string = dataUser.fullName;\n    this.edtDay.string = dataUser.dayOfBirth;\n    this.edtMonth.string = dataUser.monthOfBirth;\n    this.edtYear.string = dataUser.yearOfBirth;\n\n    if (dataUser.sex == 0) {\n       this.rdMale.isChecked=true;\n       this.imgFemale.active = false;\n       this.imgMale.active = true;\n    } else {\n      this.rdFemale.isChecked=true;\n      this.imgFemale.active = true;\n      this.imgMale.active = false;\n    }\n    }\n\n  }\n\n  callback(event: Event, customEventData: string) {\n\n    AudioManager.playSoundClick();\n\n    // The event here is a Touch Event object, and you can get the send node of the event by event.target\n    // The customEventData parameter here is equal to the \"foobar\" you set before\n    if (this.rdMale.isChecked === true) {\n      this.imgMale.active = true;\n      this.imgFemale.active = false;\n      this.sex = 0;\n\n    } else {\n      this.imgMale.active = false;\n      this.imgFemale.active = true;\n      this.sex = 1;\n\n    }\n  }\n\n  validateInfo() {\n    AudioManager.playSoundClick();\n  \n    this.lblError.node.active = false;\n\n    var d = this.edtDay.string;\n    var m = this.edtMonth.string;\n    var y = this.edtYear.string;\n    var name = this.edtFullName.string;\n\n    if (name == \"\") {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR10\");\n      return;\n    } \n  else  if (d == \"\") {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR1\");\n      return;\n    } else if (m == \"\") {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR8\");\n      return;\n    } else if (y == \"\") {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR9\");\n      return;\n    } else  if (this.checkIsNumber(d) != -1) {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR4\");\n      return;\n    } else if (this.checkIsNumber(m) != -1) {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR11\");\n      return;\n    } else if (this.checkIsNumber(y) != -1) {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR12\");\n      return;\n    }\n\n    var day = parseInt(d);\n    var month = parseInt(m);\n    var year = parseInt(y);\n    if (day <= 0 || month <= 0) {\n      this.lblError.node.active = true;\n      this.lblError.string = i18n.t(\"ERROR3\");\n      return;\n    }\n\n    var str = name.toLowerCase();\n    var text = this.removeVietnameseTones(str);\n\n    var isHopLe = this.isValidDay(day, month, year);\n    if (isHopLe == -1) {\n      // ////console.log(typeof(text));\n      this.saveDataInfo(text, name, day, month, year);\n      this.nextScreen();\n    } else {\n      this.lblError.node.active = true;\n      if (isHopLe == 1) {\n        this.lblError.string = i18n.t(\"ERROR4\");\n      } else if (isHopLe == 2) {\n        this.lblError.string = i18n.t(\"ERROR11\");\n      } else if (isHopLe == 3) {\n        this.lblError.string = i18n.t(\"ERROR12\");\n      }\n    }\n  }\n\n  isValidDay(day, month, year) {\n    return CommonTS.isHopLe(day, month, year);\n  }\n\n  saveDataInfo(nameText, fullname, dayOfBirth, monthOfBirth, yearOfBirth) {\n  \n            var dataUser = {\n            sex: this.sex,\n            nameText: nameText,\n            fullName: fullname,\n            dayOfBirth: dayOfBirth,\n            monthOfBirth: monthOfBirth,\n            yearOfBirth: yearOfBirth,\n            };\n    // ////console.log(\"Data...........\" + dataUser.dayOfBirth + \"/\" + dataUser.monthOfBirth + \"/\" + dataUser.yearOfBirth);\n            sys.localStorage.setItem(PERSONAL, JSON.stringify(dataUser));\n  }\n\n  nextScreen() {\n\n    var dataUser = JSON.parse(sys.localStorage.getItem(PERSONAL));\n    if (dataUser == undefined || dataUser == null) {\n    this.lblError.node.active = true;\n    this.lblError.string = i18n.t(\"ERROR1\");\n    return;\n    } else {\n    this.loadHome();\n    }\n  }\n\n\n  loadHome() {\n    director.loadScene(\"Home\");\n}\n\n  exitScreen() {\n    AudioManager.playSoundClick();\n\n          this.loadHome();\n\n  }\n\n \n  signOut() {\n    AudioManager.playSoundClick();\n    sys.localStorage.setItem(PERSONAL, JSON.stringify(null));\n    this.edtFullName.string = \"\";\n    this.edtDay.string = \"\";\n    this.edtMonth.string = \"\";\n    this.edtYear.string = \"\";\n    this.btnClose.node.active = false;\n    this.lblError.node.active = false;\n    this.btnSignOut.node.active=false\n}\n  checkIsNumber(str:string) {\n    var format = /[0-9]+/;\n    var result = str.toString().split(\"\");\n    var len = result.length;\n    var index = -1;\n    for (let i = 0; i < len; i++) {\n      if (format.test(result[i]) == false) {\n        index = i;\n      }\n    }\n    return index;\n  }\n\n  removeVietnameseTones(str) {\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n    str = str.replace(/Đ/g, \"D\");\n    // // Some system encode vietnamese combining accent as individual utf-8 characters\n    // // Một vài bộ encode coi các dấu mũ, dấu chữ như một kí tự riêng biệt nên thêm hai dòng này\n    str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ̀ ́ ̃ ̉ ̣  huyền, sắc, ngã, hỏi, nặng\n    str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ˆ ̆ ̛  Â, Ê, Ă, Ơ, Ư\n    // // Remove extra spaces\n    // // Bỏ các khoảng trắng liền nhau\n    str = str.replace(/ + /g, \" \");\n    str = str.trim();\n    // // Remove punctuations\n    // // Bỏ dấu câu, kí tự đặc biệt\n    str = str.replace(\n      /!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g,\n      \" \"\n    );\n    return str;\n  }\n}\n"]}