{"version":3,"sources":["file:///Users/haothanhit/Desktop/ThanSoHocV2/Numerology36/assets/prefab/PrefabCountNumber.ts"],"names":["_decorator","Component","RichText","Label","assetManager","TextAsset","Languages","i18n","TypeAction","ccclass","property","PrefabCountNumber","start","update","deltaTime","updateData","result","typeNumber","language","getLanguage","init","lblNumbers","string","t","richTextContent","node","active","url","KARMIC_DEBT","loadData","updateSceneRenderers","self","bundle","getBundle","loadBundle","err","loadDir","texture","toString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,S,OAAAA,S;;AAE5DC,MAAAA,S,iBAAAA,S;;AACGC,MAAAA,I;;AACHC,MAAAA,U,iBAAAA,U;;;;;;;;;OAHH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;mCAKjBW,iB,WADZF,OAAO,CAAC,mBAAD,C,UAIHC,QAAQ,CAACR,QAAD,C,UAGRQ,QAAQ,CAACP,KAAD,C,2BAPb,MACaQ,iBADb,SACuCV,SADvC,CACiD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAU7CW,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,UAAU,CAACC,MAAD,EAASC,UAAT,EAAgC;AACtC,cAAIC,QAAQ,GAAG;AAAA;AAAA,sCAAUC,WAAV,EAAf;AACAZ,UAAAA,IAAI,CAACa,IAAL,CAAUF,QAAV;;AACA,cAAGF,MAAM,IAAI,GAAb,EAAkB;AACd,iBAAKK,UAAL,CAAgBC,MAAhB,GAAyBf,IAAI,CAACgB,CAAL,CAAO,UAAP,CAAzB;AACA,iBAAKC,eAAL,CAAqBC,IAArB,CAA0BC,MAA1B,GAAmC,IAAnC;AACA,gBAAIC,GAAG,GAAG,EAAV;;AAEA,gBAAGV,UAAU,IAAE;AAAA;AAAA,0CAAWW,WAA1B,EAAsC;AAClCD,cAAAA,GAAG,GAAGT,QAAQ,GAAG,cAAX,GAA4B,CAAlC;AACH;;AAED,iBAAKW,QAAL,CAAcF,GAAd;AACH,WAVD,MAUO;AACH,iBAAKH,eAAL,CAAqBC,IAArB,CAA0BC,MAA1B,GAAmC,KAAnC;AACA,iBAAKL,UAAL,CAAgBC,MAAhB,GAAyBf,IAAI,CAACgB,CAAL,CAAO,aAAP,IAAwB,IAAxB,GAA+BP,MAAxD;AACH;;AAGDT,UAAAA,IAAI,CAACuB,oBAAL;AAEH;AAGA;AACL;AACA;AACA;AACA;AACA;;;AACMD,QAAAA,QAAQ,CAACF,GAAD,EAAM;AACZ,cAAII,IAAI,GAAG,IAAX;AACA,cAAIC,MAAM,GAAG5B,YAAY,CAAC6B,SAAb,CAAuB,MAAvB,CAAb;;AACA,cAAID,MAAM,IAAI,IAAd,EAAoB;AAClB5B,YAAAA,YAAY,CAAC8B,UAAb,CAAwB,MAAxB,EAAgC,CAACC,GAAD,EAAMH,MAAN,KAAiB;AAC/CA,cAAAA,MAAM,CAACI,OAAP,CAAeT,GAAf,EAAoBtB,SAApB,EAA+B,UAAU8B,GAAV,EAAeE,OAAf,EAAwB;AACrDN,gBAAAA,IAAI,CAACP,eAAL,CAAqBF,MAArB,GAA8Be,OAAO,CAACC,QAAR,EAA9B;AACD,eAFD;AAGD,aAJD;AAKD,WAND,MAMO;AACHN,YAAAA,MAAM,CAACI,OAAP,CAAeT,GAAf,EAAoBtB,SAApB,EAA+B,UAAU8B,GAAV,EAAeE,OAAf,EAAwB;AACrD;AACAN,cAAAA,IAAI,CAACP,eAAL,CAAqBF,MAArB,GAA8Be,OAAO,CAACC,QAAR,EAA9B;AACD,aAHD;AAIH;AACF;;AA/D0C,O;;;;;iBAIZ,I;;;;;;;iBAGR,I","sourcesContent":["import { _decorator, Component, Node, RichText, Label, assetManager, TextAsset } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { Languages } from \"../common/Language\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { TypeAction } from '../common/Constant';\n@ccclass('PrefabCountNumber')\nexport class PrefabCountNumber extends Component {\n\n\n    @property(RichText)\n    richTextContent: RichText |null =null;\n\n    @property(Label)\n    lblNumbers: Label |null =null;\n\n   \n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    updateData(result, typeNumber:TypeAction) {\n        var language = Languages.getLanguage();\n        i18n.init(language);\n        if(result == \"0\") {\n            this.lblNumbers.string = i18n.t(\"NONUMBER\");\n            this.richTextContent.node.active = true;\n            var url = \"\";\n\n            if(typeNumber==TypeAction.KARMIC_DEBT){\n                url = language + \"_karmicdebt_\" + 0;\n            }\n        \n            this.loadData(url);\n        } else {\n            this.richTextContent.node.active = false;\n            this.lblNumbers.string = i18n.t(\"YOURNUMBERS\") + \": \" + result;\n        }\n\n\n        i18n.updateSceneRenderers()\n        \n    }\n\n\n     /**\n   * Hàm load Data từ bundle\n   * @param numberDay: Tên con số cần lấy (Đánh số theo thứ tự từ 1-9)\n   * @param nameBundle : Tên bundle chứa\n   * @result : Nội dung về con số tương ứng \n   */\n      loadData(url) {\n        var self = this;\n        var bundle = assetManager.getBundle(\"data\");\n        if (bundle == null) {\n          assetManager.loadBundle(\"data\", (err, bundle) => {\n            bundle.loadDir(url, TextAsset, function (err, texture) {\n              self.richTextContent.string = texture.toString();\n            });\n          });\n        } else {\n            bundle.loadDir(url, TextAsset, function (err, texture) {\n              ////console.log(texture)\n              self.richTextContent.string = texture.toString();\n            });\n        }\n      }\n}\n\n"]}