{"version":3,"sources":["file:///Users/haothanhit/Desktop/ThanSoHocV2/Numerology36/assets/script/Love.ts"],"names":["_decorator","Component","Node","Button","Label","director","RichText","instantiate","Prefab","ScrollView","EditBox","sys","AudioManager","Languages","i18n","Constant","CommonTS","PrefabLove","ccclass","property","Love","onLoad","initLayout","start","update","deltaTime","checkPlayMusic","hideWarning","language","getLanguage","init","richTextDescription","string","t","updateSceneRenderers","addPrefabTools","loadData","dataUser","JSON","parse","localStorage","getItem","PERSONAL","edtYouDay","dayOfBirth","edtYouMonth","monthOfBirth","edtYouYear","yearOfBirth","dataUser2","PERSONAL2","edtPartnerDay","edtPartnerMonth","edtPartnerYear","addPrefabContent","tinhDestinyNumber","scrollView","scrollToBottom","loveData","nodeText","content","getChildByName","prefabContent","name","insertChild","cell","getComponent","updateData","hidePrefabContent","removeFromParent","checkValidate","playSoundClick","lblWarning","node","active","yDay","yMonth","yYear","tDay","tMonth","tYear","checkFormat","p1Day","parseInt","p1Month","p1Year","p2Day","p2Month","p2Year","person1","person2","p1HopLe","isHopLe","p2HopLe","setItem","stringify","scrollToPercentVertical","str","format","result","split","len","length","index","i","test","number1","rutGonSo","tinhSoChuDao","number2","showWarning","loadHome","loadScene","prefabTools","addChild"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Button, Label, director, RichText, instantiate, Prefab, ScrollView, EditBox,sys } from 'cc';\nconst { ccclass, property } = _decorator;\n\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { Constant } from '../common/Constant';\nimport { CommonTS } from '../common/CommonTS';\nimport { PrefabLove } from '../prefab/PrefabLove';\n@ccclass('Love')\nexport class Love extends Component {\n    \n    @property(Button)\n    btnClose: Button = null;\n\n    @property(Label)\n    lblWarning: Label = null;\n  \n    @property(RichText)\n    richTextDescription: RichText = null;\n  \n    @property(Prefab)\n    prefabTools: Prefab = null;\n\n    @property(Node)\n    content: Node = null;\n  \n    @property(ScrollView)\n    scrollView: ScrollView = null;\n\n    @property(Prefab)\n    prefabContent: Prefab = null;\n\n    @property(EditBox)\n    edtYouDay: EditBox = null;\n  \n    @property(EditBox)\n    edtYouMonth: EditBox = null;\n  \n    @property(EditBox)\n    edtYouYear: EditBox = null;\n\n    @property(EditBox)\n    edtPartnerDay: EditBox = null;\n  \n    @property(EditBox)\n    edtPartnerMonth: EditBox = null;\n  \n    @property(EditBox)\n    edtPartnerYear: EditBox = null;\n    onLoad(){\n        this.initLayout();\n\n\n    }\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    initLayout(){\n        AudioManager.checkPlayMusic();\n        this.hideWarning();\n\n        var language = Languages.getLanguage();\n        i18n.init(language);\n        this.richTextDescription.string = `<color=#ffffff>${i18n.t(\n            \"INTROLOVE\"\n            )}</color>`;\n            i18n.updateSceneRenderers();\n\n            this.addPrefabTools();\n\n        this.loadData()\n\n\n    }\n\n\n loadData(){\n    var dataUser = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL));\n    this.edtYouDay.string = dataUser.dayOfBirth;\n    this.edtYouMonth.string = dataUser.monthOfBirth;\n    this.edtYouYear.string = dataUser.yearOfBirth;\n   \n    var dataUser2 = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL2));\n    if(dataUser2 != null) {\n    this.edtPartnerDay.string = dataUser2.dayOfBirth;\n    this.edtPartnerMonth.string = dataUser2.monthOfBirth;\n    this.edtPartnerYear.string = dataUser2.yearOfBirth;\n    this.addPrefabContent(this.tinhDestinyNumber(dataUser, dataUser2));\n    // setTimeout( () => {\n    this.scrollView.scrollToBottom(0.5);\n    // }, 15);\n    }\n }\n addPrefabContent(loveData) {\n    var nodeText = this.content.getChildByName(\"nodeContent\");\n    if (nodeText == null) {\n      var nodeText = instantiate(this.prefabContent);\n      nodeText.name = \"nodeContent\";\n      this.content.insertChild(nodeText, 1);\n    }\n    var cell = nodeText.getComponent(PrefabLove);\n    cell.updateData(loveData);\n  }\n\n\n  hidePrefabContent() {\n    var nodeText = this.content.getChildByName(\"nodeContent\");\n    if (nodeText != null) {\n      nodeText.removeFromParent();\n    }\n  }\n\n\n  checkValidate() {\n    AudioManager.playSoundClick();\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    this.lblWarning.node.active = false;\n    var yDay = this.edtYouDay.string;\n    var yMonth = this.edtYouMonth.string;\n    var yYear = this.edtYouYear.string;\n    var tDay = this.edtPartnerDay.string;\n    var tMonth = this.edtPartnerMonth.string;\n    var tYear = this.edtPartnerYear.string;\n    if (yDay == \"\" || tDay == \"\") {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR1\");\n      this.hidePrefabContent();\n      return;\n    } else if (yMonth == \"\" || tMonth == \"\") {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR8\");\n      this.hidePrefabContent();\n      return;\n    } else if (yYear == \"\" || tYear == \"\") {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR9\");\n      this.hidePrefabContent();\n      return;\n    } else if(this.checkFormat(yDay) != -1 || this.checkFormat(tDay) != -1) {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR4\");\n      return;\n    } else if(this.checkFormat(yMonth) != -1 || this.checkFormat(tMonth) != -1) {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR11\");\n      return;\n    } else if(this.checkFormat(yYear) != -1 || this.checkFormat(tYear) != -1) {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR12\");\n      return;\n    }\n    var p1Day = parseInt(yDay);\n    var p1Month = parseInt(yMonth);\n    var p1Year = parseInt(yYear);\n    var p2Day = parseInt(tDay);\n    var p2Month = parseInt(tMonth);\n    var p2Year = parseInt(tYear);\n\n    var person1 = {\n      dayOfBirth: p1Day,\n      monthOfBirth: p1Month,\n      yearOfBirth: p1Year,\n    };\n\n    var person2 = {\n      dayOfBirth: p2Day,\n      monthOfBirth: p2Month,\n      yearOfBirth: p2Year,\n    };\n\n    var p1HopLe = CommonTS.isHopLe(p1Day, p1Month, p1Year);\n    var p2HopLe = CommonTS.isHopLe(p2Day, p2Month, p2Year);\n    if (p1HopLe == -1 && p2HopLe == -1) {\n      sys.localStorage.setItem(Constant.PERSONAL2, JSON.stringify(person2));\n      var loveData = this.tinhDestinyNumber(person1, person2);\n      this.addPrefabContent(loveData);\n    } else {\n      if (p1HopLe == 1 || p2HopLe == 1) {\n        this.lblWarning.string = i18n.t(\"ERROR4\");\n      } else if (p1HopLe == 2 || p2HopLe == 2) {\n        this.lblWarning.string = i18n.t(\"ERROR11\");\n      } else {\n        this.lblWarning.string = i18n.t(\"ERROR12\");\n      }\n      this.lblWarning.node.active = true;\n      this.hidePrefabContent();\n    }\n    this.scrollView.scrollToPercentVertical(0.8);\n  }\n\n\n  checkFormat(str) {\n    var format = /[0-9]+/;\n    var result = str.split(\"\");\n    var len = result.length;\n    var index = -1;\n    for(let i = 0; i < len; i++) {\n      if(format.test(result[i]) == false) {\n        index = i;\n      }\n    }\n    return index;\n  }\n tinhDestinyNumber(person1, person2) {\n    var number1 = CommonTS.rutGonSo(CommonTS.tinhSoChuDao(person1), 9);\n    var number2 = CommonTS.rutGonSo(CommonTS.tinhSoChuDao(person2), 9);\n    var loveData = {\n      number1: number1,\n      number2: number2,\n    };\n    return loveData;\n  }\n  hideWarning() {\n    this.lblWarning.node.active = false;\n  }\n\n  showWarning() {\n    this.lblWarning.node.active = true;\n  }\n\n\n  loadHome() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Home\");\n  }\n\n  addPrefabTools() {\n    var node = instantiate(this.prefabTools);\n    node.name = \"nodeTools\";\n    this.content.addChild(node);\n  }\n\n}\n\n\n"]}