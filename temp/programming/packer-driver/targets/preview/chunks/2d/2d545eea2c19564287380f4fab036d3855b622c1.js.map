{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/prefab/PrefabMainNumbers.ts"],"names":["_decorator","Component","director","Label","sys","AudioManager","CommonTS","Constant","TypeAction","ccclass","property","PrefabMainNumbers","onLoad","initLayout","start","update","deltaTime","date","Date","dataUser","JSON","parse","localStorage","getItem","PERSONAL","lblRuling","string","tinhSoChuDao","toString","lblLifePath","tinhSoDuongDoi","lblPersonalYear","tinhPersonalDay","yearForecast","noNghiep","karmicDebt","length","lblKarmicDebt","replace","chuKi","tinhGiaiDoan","lblPeriodCycle","gd1","gd2","gd3","lblDestiny","tinhNameDestiny","nameText","nextScreen","event","customEventData","playSoundClick","number","parseInt","window","PERIOD_CYCLE","loadPeriodCycle","loadDetailNumber","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,G,OAAAA,G;;AAE9CC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,U,iBAAAA,U;;;;;;;;;OAHb;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;mCAKjBW,iB,WADZF,OAAO,CAAC,mBAAD,C,UAGHC,QAAQ,CAACP,KAAD,C,UAGRO,QAAQ,CAACP,KAAD,C,UAGRO,QAAQ,CAACP,KAAD,C,UAGRO,QAAQ,CAACP,KAAD,C,UAGRO,QAAQ,CAACP,KAAD,C,UAGRO,QAAQ,CAACP,KAAD,C,2BAlBb,MACaQ,iBADb,SACuCV,SADvC,CACiD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAmB7CW,QAAAA,MAAM,GAAE;AAGJ,eAAKC,UAAL;AAGH;;AACDC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDH,QAAAA,UAAU,GAAE;AACR,cAAII,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,cAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWjB,GAAG,CAACkB,YAAJ,CAAiBC,OAAjB,CAAyB;AAAA;AAAA,oCAASC,QAAlC,CAAX,CAAf;AACA,eAAKC,SAAL,CAAeC,MAAf,GAAwB;AAAA;AAAA,oCAASC,YAAT,CAAsBR,QAAtB,EAAgCS,QAAhC,EAAxB;AACA,eAAKC,WAAL,CAAiBH,MAAjB,GAA0B;AAAA;AAAA,oCAASI,cAAT,CAAwBX,QAAxB,CAA1B;AACA,eAAKY,eAAL,CAAqBL,MAArB,GAA8B;AAAA;AAAA,oCAASM,eAAT,CAAyBb,QAAzB,EAAmCF,IAAnC,EAAyCgB,YAAvE,CALQ,CAMR;;AACA,cAAIC,QAAQ,GAAG;AAAA;AAAA,oCAASC,UAAT,CAAoBhB,QAApB,CAAf;;AACA,cAAGe,QAAQ,CAACE,MAAT,IAAmB,CAAtB,EAAyB;AACvB,iBAAKC,aAAL,CAAmBX,MAAnB,GAA4B,GAA5B;AACD,WAFD,MAEO;AACL,iBAAKW,aAAL,CAAmBX,MAAnB,GAA4BQ,QAAQ,CAACN,QAAT,GAAoBU,OAApB,CAA4B,IAA5B,EAAiC,IAAjC,CAA5B;AACD;;AAED,cAAIC,KAAK,GAAG;AAAA;AAAA,oCAASC,YAAT,CAAsBrB,QAAtB,CAAZ;AACA,eAAKsB,cAAL,CAAoBf,MAApB,GAA6B,KAAKa,KAAK,CAACG,GAAX,GAAiB,IAAjB,GAAwBH,KAAK,CAACI,GAA9B,GAAoC,IAApC,GAA2CJ,KAAK,CAACK,GAA9E;AAGA,eAAKC,UAAL,CAAgBnB,MAAhB,GAAyB;AAAA;AAAA,oCAASoB,eAAT,CAAyB3B,QAAQ,CAAC4B,QAAlC,EAA4CnB,QAA5C,EAAzB;AAGH;;AAGDoB,QAAAA,UAAU,CAACC,KAAD,EAAQC,eAAR,EAAwB;AAC9B;AAAA;AAAA,4CAAaC,cAAb;AACA,cAAIC,MAAM,GAAGC,QAAQ,CAACH,eAAD,CAArB;AACA,cAAGI,MAAM,CAAC,YAAD,CAAN,IAAwBF,MAA3B,EAAmC;AACnCE,UAAAA,MAAM,CAAC,YAAD,CAAN,GAAuBF,MAAvB;;AACA,cAAIE,MAAM,CAAC,YAAD,CAAN,IAAwB;AAAA;AAAA,wCAAWC,YAAvC,EAAqD;AACnD,iBAAKC,eAAL;AACD,WAFD,MAEO;AAEL,iBAAKC,gBAAL;AAIL;AAEJ;;AAGDA,QAAAA,gBAAgB,GAAG;AACfvD,UAAAA,QAAQ,CAACwD,SAAT,CAAmB,QAAnB;AACD;;AAEDF,QAAAA,eAAe,GAAG;AAChBtD,UAAAA,QAAQ,CAACwD,SAAT,CAAmB,aAAnB;AACD;;AAlF8C,O;;;;;iBAGrB,I;;;;;;;iBAGF,I;;;;;;;iBAGC,I;;;;;;;iBAGK,I;;;;;;;iBAGD,I;;;;;;;iBAGD,I","sourcesContent":["import { _decorator, Component, Node, director, Label, sys } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { AudioManager } from \"../common/AudioManager\";\nimport { CommonTS } from '../common/CommonTS';\nimport { Constant, TypeAction } from '../common/Constant';\n@ccclass('PrefabMainNumbers')\nexport class PrefabMainNumbers extends Component {\n\n    @property(Label)\n    lblLifePath:Label|null =null\n\n    @property(Label)\n    lblRuling:Label|null =null\n    \n    @property(Label)\n    lblDestiny:Label|null =null\n\n    @property(Label)\n    lblPersonalYear:Label|null =null\n\n    @property(Label)\n    lblPeriodCycle:Label|null =null\n\n    @property(Label)\n    lblKarmicDebt:Label|null =null\n    onLoad(){\n\n\n        this.initLayout()\n\n\n    }\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    initLayout(){\n        var date = new Date();\n        var dataUser = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL));\n        this.lblRuling.string = CommonTS.tinhSoChuDao(dataUser).toString();\n        this.lblLifePath.string = CommonTS.tinhSoDuongDoi(dataUser);\n        this.lblPersonalYear.string = CommonTS.tinhPersonalDay(dataUser, date).yearForecast;\n        //  \n        var noNghiep = CommonTS.karmicDebt(dataUser);\n        if(noNghiep.length == 0) {\n          this.lblKarmicDebt.string = \"0\";\n        } else {\n          this.lblKarmicDebt.string = noNghiep.toString().replace(/,/g,\", \");\n        }\n\n        var chuKi = CommonTS.tinhGiaiDoan(dataUser);\n        this.lblPeriodCycle.string = \"\" + chuKi.gd1 + \", \" + chuKi.gd2 + \", \" + chuKi.gd3;\n        \n\n        this.lblDestiny.string = CommonTS.tinhNameDestiny(dataUser.nameText).toString();\n\n\n    }\n\n\n    nextScreen(event, customEventData){\n        AudioManager.playSoundClick();\n        var number = parseInt(customEventData);\n        if(window[\"typeAction\"] == number) return\n        window[\"typeAction\"] = number;\n        if (window[\"typeAction\"] == TypeAction.PERIOD_CYCLE) {\n          this.loadPeriodCycle();\n        } else {\n          \n          this.loadDetailNumber();\n\n\n\n    }\n\n}\n\n\nloadDetailNumber() {\n    director.loadScene(\"Detail\");\n  }\n\n  loadPeriodCycle() {\n    director.loadScene(\"PeriodCycle\");\n  }\n\n}\n\n\n\n"]}