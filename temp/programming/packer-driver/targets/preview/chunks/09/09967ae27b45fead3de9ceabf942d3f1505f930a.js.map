{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/script/Splash.ts"],"names":["_decorator","Component","assetManager","sys","director","i18n","Languages","ccclass","property","PERSONAL","Splash","start","language","getLanguage","init","updateSceneRenderers","loadData","setTimeout","preloadScene","update","deltaTime","data","i","enName","viName","push","en_address","vi_address","en_period","vi_period","en_phone","vi_phone","en_rullingNumber","vi_rullingNumber","en_soul","vi_soul","en_karmicLesson","vi_karmicLesson","en_year","vi_year","en_lifePath","vi_lifePath","en_monthPersonal","vi_monthPersonal","en_daypersonal","vi_daypersonal","en_impresson","vi_impresson","en_namenumber","vi_namenumber","bundle","getBundle","dataUser","JSON","parse","localStorage","getItem","self","loadBundle","err","load","toString","texture","undefined","loadProfile","loadHome","loadScene"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  Label,\n  assetManager,\n  sys,\n  TextAsset,\n  AssetManager,\n  director,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\nconst PERSONAL = \"DataUser\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\n\n@ccclass(\"Splash\")\nexport class Splash extends Component {\n  start() {\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    i18n.updateSceneRenderers();\n\n    // var dataUser = JSON.parse(sys.localStorage.getItem(PERSONAL));\n    // if (dataUser == null || dataUser == undefined) {\n    //     this.loadProfile();\n    //   } else {\n    //     // //this.loadHome();\n    //     this.loadHome();\n    //   }\n\n\n    // this.schedule(function() {\n    //   // Here this refers to component\n    // }, 5);\n\n   this.loadData();\n\n   setTimeout(() => {\n    this.preloadScene();\n  }, 50);\n\n\n\n  }\n\n  preloadScene(){\n    director.preloadScene(\"Home\",function(){})\n\n\n  }\n\n  update(deltaTime: number) {}\n\n  // /***************************************LOAD DATA****************************************** */\n  // /**\n  // * Load toàn bộ Data cần\n  // */\n  loadData() {\n    var data: Array<string> = [\n      \"vi_karmicdebt_0\",\n      \"vi_karmicdebt_13\",\n      \"vi_karmicdebt_14\",\n      \"vi_karmicdebt_16\",\n      \"vi_karmicdebt_19\",\n      \"en_karmicdebt_0\",\n      \"en_karmicdebt_13\",\n      \"en_karmicdebt_14\",\n      \"en_karmicdebt_16\",\n      \"en_karmicdebt_19\",\n      \"en_soul_11\",\n      \"en_soul_22\",\n      \"en_soul_33\",\n      \"vi_soul_11\",\n      \"vi_soul_22\",\n      \"vi_soul_33\",\n      \"en_address_11\",\n      \"en_address_22\",\n      \"vi_address_11\",\n      \"vi_address_22\",\n      \"en_period_11\",\n      \"vi_period_11\",\n      \"en_period_22\",\n      \"vi_period_22\",\n      \"en_rullingNumber_11\",\n      \"en_rullingNumber_22\",\n      \"vi_rullingNumber_11\",\n      \"vi_rullingNumber_22\",\n    ];\n    for (let i = 1; i <= 9; i++) {\n      let enName = \"en_love_1\" + i;\n      let viName = \"vi_love_1\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 2; i <= 9; i++) {\n      let enName = \"en_love_2\" + i;\n      let viName = \"vi_love_2\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 3; i <= 9; i++) {\n      let enName = \"en_love_3\" + i;\n      let viName = \"vi_love_3\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 4; i <= 9; i++) {\n      let enName = \"en_love_4\" + i;\n      let viName = \"vi_love_4\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 5; i <= 9; i++) {\n      let enName = \"en_love_5\" + i;\n      let viName = \"vi_love_5\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 6; i <= 9; i++) {\n      let enName = \"en_love_6\" + i;\n      let viName = \"vi_love_6\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 7; i <= 9; i++) {\n      let enName = \"en_love_7\" + i;\n      let viName = \"vi_love_7\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    for (let i = 8; i <= 9; i++) {\n      let enName = \"en_love_8\" + i;\n      let viName = \"vi_love_8\" + i;\n      data.push(enName);\n      data.push(viName);\n    }\n    data.push(\"en_love_99\");\n    data.push(\"vi_love_99\");\n\n    for (let i = 1; i <= 9; i++) {\n      // //Địa chỉ\n      let en_address = \"en_address_\" + i;\n      let vi_address = \"vi_address_\" + i;\n      data.push(en_address);\n      data.push(vi_address);\n      // //Giai đoạn\n      let en_period = \"en_period_\" + i;\n      let vi_period = \"vi_period_\" + i;\n      data.push(en_period);\n      data.push(vi_period);\n\n      let en_phone = \"en_phone_\" + i;\n      let vi_phone = \"vi_phone_\" + i;\n      data.push(en_phone);\n      data.push(vi_phone);\n\n      let en_rullingNumber = \"en_rullingNumber_\" + i;\n      let vi_rullingNumber = \"vi_rullingNumber_\" + i;\n      data.push(en_rullingNumber);\n      data.push(vi_rullingNumber);\n\n      let en_soul = \"en_soul_\" + i;\n      let vi_soul = \"vi_soul_\" + i;\n      data.push(en_soul);\n      data.push(vi_soul);\n\n      let en_karmicLesson = \"en_karmicLesson_\" + i;\n      let vi_karmicLesson = \"vi_karmicLesson_\" + i;\n      data.push(en_karmicLesson);\n      data.push(vi_karmicLesson);\n\n      let en_year = \"en_year_\" + i;\n      let vi_year = \"vi_year_\" + i;\n      data.push(en_year);\n      data.push(vi_year);\n\n      let en_lifePath = \"en_lifepath_\" + i;\n      let vi_lifePath = \"vi_lifepath_\" + i;\n      data.push(en_lifePath);\n      data.push(vi_lifePath);\n\n      let en_monthPersonal = \"en_monthpersonal_\" + i;\n      let vi_monthPersonal = \"vi_monthpersonal_\" + i;\n      data.push(en_monthPersonal);\n      data.push(vi_monthPersonal);\n\n      let en_daypersonal = \"en_daypersonal_\" + i;\n      let vi_daypersonal = \"vi_daypersonal_\" + i;\n      data.push(en_daypersonal);\n      data.push(vi_daypersonal);\n\n      let en_impresson = \"en_impresson_\" + i;\n      let vi_impresson = \"vi_impresson_\" + i;\n      data.push(en_impresson);\n      data.push(vi_impresson);\n\n      let en_namenumber = \"en_namenumber_\" + i;\n      let vi_namenumber = \"vi_namenumber_\" + i;\n      data.push(en_namenumber);\n      data.push(vi_namenumber);\n    }\n\n\n\n\n    var bundle = assetManager.getBundle(\"data\");\n    var dataUser = JSON.parse(sys.localStorage.getItem(PERSONAL));\n    var self = this;\n    assetManager.loadBundle(\"data\", (err, bundle) => {\n      bundle.load(data.toString(), function (err, texture) {\n        if (dataUser == null || dataUser == undefined) {\n          self.loadProfile();\n        } else {\n          // //this.loadHome();\n          self.loadHome();\n        }        });\n    });\n    \n    \n  }\n\n  loadProfile() {\n    director.loadScene(\"Profile\");\n  }\n\n  loadHome() {\n    director.loadScene(\"Home\");\n  }\n}\n"]}