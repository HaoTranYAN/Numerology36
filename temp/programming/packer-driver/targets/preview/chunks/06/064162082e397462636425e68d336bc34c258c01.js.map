{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/script/Love.ts"],"names":["_decorator","Component","Node","Button","Label","director","RichText","instantiate","Prefab","ScrollView","EditBox","sys","AudioManager","Languages","i18n","Constant","CommonTS","PrefabLove","ccclass","property","Love","onLoad","initLayout","start","update","deltaTime","checkPlayMusic","hideWarning","language","getLanguage","init","richTextDescription","string","t","updateSceneRenderers","addPrefabTools","loadData","setTimeout","preloadScene","dataUser","JSON","parse","localStorage","getItem","PERSONAL","edtYouDay","parseInt","dayOfBirth","edtYouMonth","monthOfBirth","edtYouYear","yearOfBirth","dataUser2","PERSONAL2","edtPartnerDay","edtPartnerMonth","edtPartnerYear","addPrefabContent","tinhDestinyNumber","scrollView","scrollToBottom","loveData","nodeText","content","getChildByName","prefabContent","name","insertChild","cell","getComponent","updateData","hidePrefabContent","removeFromParent","checkValidate","playSoundClick","lblWarning","node","active","yDay","yMonth","yYear","tDay","tMonth","tYear","checkFormat","p1Day","p1Month","p1Year","p2Day","p2Month","p2Year","person1","person2","p1HopLe","isHopLe","p2HopLe","setItem","stringify","scrollToPercentVertical","str","format","result","toString","split","len","length","index","i","test","number1","rutGonSo","tinhSoChuDao","number2","showWarning","loadHome","loadScene","prefabTools","addChild"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  Button,\n  Label,\n  director,\n  RichText,\n  instantiate,\n  Prefab,\n  ScrollView,\n  EditBox,\n  sys,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { Constant } from \"../common/Constant\";\nimport { CommonTS } from \"../common/CommonTS\";\nimport { PrefabLove } from \"../prefab/PrefabLove\";\n@ccclass(\"Love\")\nexport class Love extends Component {\n  @property(Button)\n  btnClose: Button = null;\n\n  @property(Label)\n  lblWarning: Label = null;\n\n  @property(RichText)\n  richTextDescription: RichText = null;\n\n  @property(Prefab)\n  prefabTools: Prefab = null;\n\n  @property(Node)\n  content: Node = null;\n\n  @property(ScrollView)\n  scrollView: ScrollView = null;\n\n  @property(Prefab)\n  prefabContent: Prefab = null;\n\n  @property(EditBox)\n  edtYouDay: EditBox = null;\n\n  @property(EditBox)\n  edtYouMonth: EditBox = null;\n\n  @property(EditBox)\n  edtYouYear: EditBox = null;\n\n  @property(EditBox)\n  edtPartnerDay: EditBox = null;\n\n  @property(EditBox)\n  edtPartnerMonth: EditBox = null;\n\n  @property(EditBox)\n  edtPartnerYear: EditBox = null;\n  onLoad() {\n    this.initLayout();\n  }\n  start() {}\n\n  update(deltaTime: number) {}\n\n  initLayout() {\n    AudioManager.checkPlayMusic();\n    this.hideWarning();\n\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    this.richTextDescription.string = `<color=#ffffff>${i18n.t(\n      \"INTROLOVE\"\n    )}</color>`;\n    i18n.updateSceneRenderers();\n\n    this.addPrefabTools();\n\n    this.loadData();\n\n    setTimeout(() => {\n      this.preloadScene();\n    }, 50);\n  }\n\n  preloadScene() {\n    director.preloadScene(\"Home\", function () {});\n    director.preloadScene(\"PhoneAddress\", function () {});\n\n  }\n\n  loadData() {\n    var dataUser = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL));\n    this.edtYouDay.string = parseInt(dataUser.dayOfBirth) + \"\";\n    this.edtYouMonth.string = parseInt(dataUser.monthOfBirth) + \"\";\n    this.edtYouYear.string = parseInt(dataUser.yearOfBirth) + \"\";\n\n    var dataUser2 = JSON.parse(sys.localStorage.getItem(Constant.PERSONAL2));\n    if (dataUser2 != null) {\n      this.edtPartnerDay.string = parseInt(dataUser2.dayOfBirth) + \"\";\n      this.edtPartnerMonth.string = parseInt(dataUser2.monthOfBirth) + \"\";\n      this.edtPartnerYear.string = parseInt(dataUser2.yearOfBirth) + \"\";\n      this.addPrefabContent(this.tinhDestinyNumber(dataUser, dataUser2));\n      // setTimeout( () => {\n      this.scrollView.scrollToBottom(0.5);\n      // }, 15);\n    }\n  }\n  addPrefabContent(loveData) {\n    var nodeText = this.content.getChildByName(\"nodeContent\");\n    if (nodeText == null) {\n      var nodeText = instantiate(this.prefabContent);\n      nodeText.name = \"nodeContent\";\n      this.content.insertChild(nodeText, 1);\n    }\n    var cell = nodeText.getComponent(PrefabLove);\n    cell.updateData(loveData);\n  }\n\n  hidePrefabContent() {\n    var nodeText = this.content.getChildByName(\"nodeContent\");\n    if (nodeText != null) {\n      nodeText.removeFromParent();\n    }\n  }\n\n  checkValidate() {\n    AudioManager.playSoundClick();\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    this.lblWarning.node.active = false;\n    var yDay = this.edtYouDay.string;\n    var yMonth = this.edtYouMonth.string;\n    var yYear = this.edtYouYear.string;\n    var tDay = this.edtPartnerDay.string;\n    var tMonth = this.edtPartnerMonth.string;\n    var tYear = this.edtPartnerYear.string;\n    if (yDay == \"\" || tDay == \"\") {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR1\");\n      this.hidePrefabContent();\n      return;\n    } else if (yMonth == \"\" || tMonth == \"\") {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR8\");\n      this.hidePrefabContent();\n      return;\n    } else if (yYear == \"\" || tYear == \"\") {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR9\");\n      this.hidePrefabContent();\n      return;\n    } else if (this.checkFormat(yDay) != -1 || this.checkFormat(tDay) != -1) {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR4\");\n      return;\n    } else if (\n      this.checkFormat(yMonth) != -1 ||\n      this.checkFormat(tMonth) != -1\n    ) {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR11\");\n      return;\n    } else if (this.checkFormat(yYear) != -1 || this.checkFormat(tYear) != -1) {\n      this.lblWarning.node.active = true;\n      this.lblWarning.string = i18n.t(\"ERROR12\");\n      return;\n    }\n    var p1Day = parseInt(yDay);\n    var p1Month = parseInt(yMonth);\n    var p1Year = parseInt(yYear);\n    var p2Day = parseInt(tDay);\n    var p2Month = parseInt(tMonth);\n    var p2Year = parseInt(tYear);\n\n    var person1 = {\n      dayOfBirth: p1Day,\n      monthOfBirth: p1Month,\n      yearOfBirth: p1Year,\n    };\n\n    var person2 = {\n      dayOfBirth: p2Day,\n      monthOfBirth: p2Month,\n      yearOfBirth: p2Year,\n    };\n\n    var p1HopLe = CommonTS.isHopLe(p1Day, p1Month, p1Year);\n    var p2HopLe = CommonTS.isHopLe(p2Day, p2Month, p2Year);\n    if (p1HopLe == -1 && p2HopLe == -1) {\n      sys.localStorage.setItem(Constant.PERSONAL2, JSON.stringify(person2));\n      var loveData = this.tinhDestinyNumber(person1, person2);\n      this.addPrefabContent(loveData);\n    } else {\n      if (p1HopLe == 1 || p2HopLe == 1) {\n        this.lblWarning.string = i18n.t(\"ERROR4\");\n      } else if (p1HopLe == 2 || p2HopLe == 2) {\n        this.lblWarning.string = i18n.t(\"ERROR11\");\n      } else {\n        this.lblWarning.string = i18n.t(\"ERROR12\");\n      }\n      this.lblWarning.node.active = true;\n      this.hidePrefabContent();\n    }\n    this.scrollView.scrollToPercentVertical(0.8);\n  }\n\n  checkFormat(str) {\n    var format = /[0-9]+/;\n    var result = str.toString().split(\"\");\n    var len = result.length;\n    var index = -1;\n    for (let i = 0; i < len; i++) {\n      if (format.test(result[i]) == false) {\n        index = i;\n      }\n    }\n    return index;\n  }\n  tinhDestinyNumber(person1, person2) {\n    var number1 = CommonTS.rutGonSo(CommonTS.tinhSoChuDao(person1), 9);\n    var number2 = CommonTS.rutGonSo(CommonTS.tinhSoChuDao(person2), 9);\n    var loveData = {\n      number1: number1,\n      number2: number2,\n    };\n    return loveData;\n  }\n  hideWarning() {\n    this.lblWarning.node.active = false;\n  }\n\n  showWarning() {\n    this.lblWarning.node.active = true;\n  }\n\n  loadHome() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Home\");\n  }\n\n  addPrefabTools() {\n    var node = instantiate(this.prefabTools);\n    node.name = \"nodeTools\";\n    this.content.addChild(node);\n  }\n}\n"]}