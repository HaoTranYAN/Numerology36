{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/script/PeriodCycle.ts"],"names":["_decorator","Component","Node","director","RichText","instantiate","Prefab","AudioManager","Languages","i18n","TypeAction","ccclass","property","PeriodCycle","onLoad","window","PERIOD_CYCLE","initLayout","start","update","deltaTime","checkPlayMusic","language","getLanguage","init","richTextIntro","string","t","updateSceneRenderers","addPrefab","setTimeout","preloadScene","nodeNumber","prefabPeriod","name","content","addChild","loadHome","playSoundClick","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,Q,OAAAA,Q;AACAC,MAAAA,Q,OAAAA,Q;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,M,OAAAA,M;;AAGOC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,S,iBAAAA,S;;AACGC,MAAAA,I;;AACHC,MAAAA,U,iBAAAA,U;;;;;;;;;OAJH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBZ,U;;6BAMjBa,W,WADZF,OAAO,CAAC,aAAD,C,UAELC,QAAQ,CAACR,QAAD,C,UAGRQ,QAAQ,CAACV,IAAD,C,UAGRU,QAAQ,CAACN,MAAD,C,2BARX,MACaO,WADb,SACiCZ,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAUzCa,QAAAA,MAAM,GAAG;AACPC,UAAAA,MAAM,CAAC,YAAD,CAAN,GAAuB;AAAA;AAAA,wCAAWC,YAAlC;AAEA,eAAKC,UAAL;AACD;;AACDC,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAE5BH,QAAAA,UAAU,GAAG;AACX;AAAA;AAAA,4CAAaI,cAAb;AAEA,cAAIC,QAAQ,GAAG;AAAA;AAAA,sCAAUC,WAAV,EAAf;AACAd,UAAAA,IAAI,CAACe,IAAL,CAAUF,QAAV;AACA,eAAKG,aAAL,CAAmBC,MAAnB,GAA4BjB,IAAI,CAACkB,CAAL,CAAO,eAAP,CAA5B;AACAlB,UAAAA,IAAI,CAACmB,oBAAL;AAEA,eAAKC,SAAL;AAEAC,UAAAA,UAAU,CAAC,MAAM;AACf,iBAAKC,YAAL;AACD,WAFS,EAEP,EAFO,CAAV;AAGD;;AAEDA,QAAAA,YAAY,GAAG;AACb5B,UAAAA,QAAQ,CAAC4B,YAAT,CAAsB,MAAtB,EAA8B,YAAY,CAAE,CAA5C;AACA5B,UAAAA,QAAQ,CAAC4B,YAAT,CAAsB,QAAtB,EAAgC,YAAY,CAAE,CAA9C;AACD;;AACDF,QAAAA,SAAS,GAAG;AACV,cAAIG,UAAU,GAAG3B,WAAW,CAAC,KAAK4B,YAAN,CAA5B;AACAD,UAAAA,UAAU,CAACE,IAAX,GAAkB,YAAlB;AACA,eAAKC,OAAL,CAAaC,QAAb,CAAsBJ,UAAtB;AACD;;AAEDK,QAAAA,QAAQ,GAAG;AACT;AAAA;AAAA,4CAAaC,cAAb;AAEAnC,UAAAA,QAAQ,CAACoC,SAAT,CAAmB,MAAnB;AACD;;AAhDwC,O;;;;;iBAER,I;;;;;;;iBAGjB,I;;;;;;;iBAGO,I","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  director,\n  RichText,\n  instantiate,\n  Prefab,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { TypeAction } from \"../common/Constant\";\n@ccclass(\"PeriodCycle\")\nexport class PeriodCycle extends Component {\n  @property(RichText)\n  richTextIntro: RichText | null = null;\n\n  @property(Node)\n  content: Node = null;\n\n  @property(Prefab)\n  prefabPeriod: Prefab = null;\n\n  onLoad() {\n    window[\"typeAction\"] = TypeAction.PERIOD_CYCLE;\n\n    this.initLayout();\n  }\n  start() {}\n\n  update(deltaTime: number) {}\n\n  initLayout() {\n    AudioManager.checkPlayMusic();\n\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    this.richTextIntro.string = i18n.t(\"MEANINGPERIOD\");\n    i18n.updateSceneRenderers();\n\n    this.addPrefab();\n\n    setTimeout(() => {\n      this.preloadScene();\n    }, 50);\n  }\n\n  preloadScene() {\n    director.preloadScene(\"Home\", function () {});\n    director.preloadScene(\"Detail\", function () {});\n  }\n  addPrefab() {\n    var nodeNumber = instantiate(this.prefabPeriod);\n    nodeNumber.name = \"nodeNumber\";\n    this.content.addChild(nodeNumber);\n  }\n\n  loadHome() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Home\");\n  }\n}\n"]}