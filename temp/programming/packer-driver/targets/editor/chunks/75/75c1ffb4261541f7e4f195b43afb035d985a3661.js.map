{"version":3,"sources":["file:///Users/haothanhit/Desktop/ThanSoHocV2/Numerology36/assets/script/PhoneAddress.ts"],"names":["_decorator","Component","Node","Button","Sprite","RichText","EditBox","Label","director","Prefab","instantiate","ScrollView","sys","AudioManager","Languages","i18n","Constant","TypeAction","CommonTS","PrefabContentPhoneAddress","ccclass","property","PhoneAddress","onLoad","initLayout","start","update","deltaTime","checkPlayMusic","hideWarning","language","getLanguage","init","window","PHONE","edtInput","inputMode","InputMode","NUMERIC","maxLength","lblTitle","string","t","richTextDescription","lblPlaceholder","imgAddress","node","active","imgPhone","mobile","localStorage","getItem","MOBILE","addPrefabContent","tinhNumber","scrollView","scrollToBottom","ADDRESS","SINGLE_LINE","address","tinhSoDiaChi","updateSceneRenderers","addPrefabTools","checkValidate","playSoundClick","lblWarning","mobileEB","str","toString","split","lenMobile","length","hidePrefabContent","checkKiTuDacBiet","numberMobile","setItem","toLowerCase","numberAddress","isNaN","setTimeout","scrollToPercentVertical","len","format","index","i","test","mobileNumber","total","parseInt","tinhTong","number","type","nodeText","content","getChildByName","prefabContent","name","insertChild","cell","getComponent","updateData","removeFromParent","prefabTools","addChild","showWarning","loadHome","loadScene"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  Button,\n  Sprite,\n  RichText,\n  EditBox,\n  Label,\n  director,\n  Prefab,\n  instantiate,\n  ScrollView,\n  sys,\n  Input,\n} from \"cc\";\n\nimport { AudioManager } from \"../common/AudioManager\";\nimport { Languages } from \"../common/Language\";\nimport * as i18n from \"db://i18n/LanguageData\";\nimport { Constant, TypeAction } from \"../common/Constant\";\nimport { CommonTS } from \"../common/CommonTS\";\nimport { PrefabContentPhoneAddress } from \"../prefab/PrefabContentPhoneAddress\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"PhoneAddress\")\nexport class PhoneAddress extends Component {\n  @property(Button)\n  btnClose: Button = null;\n\n  @property(Button)\n  btnResult: Button = null;\n\n  @property(Sprite)\n  imgPhone: Sprite = null;\n\n  @property(Sprite)\n  imgAddress: Sprite = null;\n\n  @property(RichText)\n  richTextDescription: RichText = null;\n\n  @property(EditBox)\n  edtInput: EditBox = null;\n\n  @property(Label)\n  lblWarning: Label = null;\n\n  @property(Label)\n  lblTitle: Label = null;\n\n  @property(Label)\n  lblPlaceholder: Label = null;\n\n  @property(Prefab)\n  prefabTools: Prefab = null;\n\n  @property(Node)\n  content: Node = null;\n\n  @property(ScrollView)\n  scrollView: ScrollView = null;\n\n  @property(Prefab)\n  prefabContent: Prefab = null;\n\n  onLoad() {\n    this.initLayout();\n  }\n\n  start() {}\n\n  update(deltaTime: number) {}\n\n  initLayout() {\n    AudioManager.checkPlayMusic();\n\n    this.hideWarning();\n\n    var language = Languages.getLanguage();\n    i18n.init(language);\n\n    if (window[\"typeAction\"] == TypeAction.PHONE) {\n      this.edtInput.inputMode = EditBox.InputMode.NUMERIC;\n      this.edtInput.maxLength = 13;\n      this.lblTitle.string = i18n.t(\"PHONETITLE\");\n      this.richTextDescription.string = `<color=#ffffff>${i18n.t(\n        \"INTROPHONE\"\n      )}</color>`;\n      this.lblPlaceholder.string = i18n.t(\"ENTERYOURPHONE\");\n      this.imgAddress.node.active = false;\n      this.imgPhone.node.active = true;\n\n      var mobile = sys.localStorage.getItem(Constant.MOBILE);\n      if (mobile != null) {\n        this.edtInput.string = mobile;\n        this.addPrefabContent(this.tinhNumber(mobile), TypeAction.PHONE);\n        this.scrollView.scrollToBottom(0.5);\n        //  this.scrollView.scrollToPercentVertical(0.8);\n      }\n    } else if (window[\"typeAction\"] == TypeAction.ADDRESS) {\n      this.edtInput.inputMode = EditBox.InputMode.SINGLE_LINE;\n      this.edtInput.maxLength = 12;\n      this.lblTitle.string = i18n.t(\"ADDRESSTITLE\");\n      this.richTextDescription.string = `<color=#ffffff>${i18n.t(\n        \"INTROADDRESS\"\n      )}</color>`;\n      this.lblPlaceholder.string = i18n.t(\"ENTERYOURADDRESS\");\n      this.imgAddress.node.active = true;\n      this.imgPhone.node.active = false;\n\n      var address = sys.localStorage.getItem(Constant.ADDRESS);\n      if (address != null) {\n        this.edtInput.string = address;\n        this.addPrefabContent(\n          CommonTS.tinhSoDiaChi(address),\n          TypeAction.ADDRESS\n        );\n        this.scrollView.scrollToBottom(0.5);\n      }\n    }\n\n    i18n.updateSceneRenderers();\n\n    this.addPrefabTools();\n  }\n\n  checkValidate() {\n    AudioManager.playSoundClick();\n\n    var language = Languages.getLanguage();\n    i18n.init(language);\n    this.lblWarning.node.active = false;\n    if (window[\"typeAction\"] == TypeAction.PHONE) {\n      var mobileEB = this.edtInput.string;\n      var str = mobileEB.toString().split(\"\");\n      var lenMobile = str.length;\n      if (mobileEB == \"\") {\n        this.lblWarning.node.active = true;\n        this.lblWarning.string = i18n.t(\"ERROR6\");\n        this.hidePrefabContent();\n        return;\n      } else if (lenMobile < 10) {\n        this.lblWarning.node.active = true;\n        this.lblWarning.string = i18n.t(\"ERROR6\");\n        this.hidePrefabContent();\n        return;\n      } else if (this.checkKiTuDacBiet(str, lenMobile) != -1) {\n        this.lblWarning.node.active = true;\n        this.lblWarning.string = i18n.t(\"ERROR6\");\n        this.hidePrefabContent();\n        return;\n      } else {\n        let numberMobile = this.tinhNumber(this.edtInput.string);\n        if (numberMobile <= 0) {\n          this.lblWarning.node.active = true;\n          this.lblWarning.string = i18n.t(\"ERROR6\");\n          this.hidePrefabContent();\n          return;\n        }\n        sys.localStorage.setItem(Constant.MOBILE, this.edtInput.string);\n        this.addPrefabContent(numberMobile, TypeAction.PHONE);\n      }\n    } else if (window[\"typeAction\"] == TypeAction.ADDRESS) {\n      var address = this.edtInput.string;\n      if (address == \"\") {\n        this.lblWarning.node.active = true;\n        this.lblWarning.string = i18n.t(\"ERROR7\");\n        this.hidePrefabContent();\n        return;\n      } else {\n        var address = address.split(\" \")[0].toLowerCase();\n        var numberAddress = CommonTS.tinhSoDiaChi(address);\n        if (numberAddress <= 0 || isNaN(numberAddress)) {\n          this.lblWarning.node.active = true;\n          this.lblWarning.string = i18n.t(\"ERROR7\");\n          this.hidePrefabContent();\n          return;\n        }\n        sys.localStorage.setItem(Constant.ADDRESS, this.edtInput.string);\n        this.addPrefabContent(numberAddress, TypeAction.ADDRESS);\n      }\n    }\n    setTimeout(() => {\n      this.scrollView.scrollToPercentVertical(0.65);\n    }, 15);\n  }\n  checkKiTuDacBiet(str, len) {\n    var format = /^[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,<>\\/?]*$/;\n    var index = -1;\n    for (let i = 0; i < len; i++) {\n      if (format.test(str[i])) {\n        index = i;\n        break;\n      }\n    }\n    return index;\n  }\n\n  tinhNumber(str) {\n    //console.log(\"tinhNumber\");\n    var mobileNumber = str.toString().split(\"\");\n    var format = /[0-9]+/;\n    var total = 0;\n    for (let i = 0; i < mobileNumber.length; i++) {\n      if (format.test(mobileNumber[i])) {\n        total = total + parseInt(mobileNumber[i]);\n      } else {\n        //kh xu ly;\n      }\n    }\n    while (total > 9 && total != 11 && total != 22 && total != 33) {\n      total = CommonTS.tinhTong(total);\n    }\n\n    return total;\n  }\n\n  addPrefabContent(number: number, type: TypeAction) {\n    var nodeText = this.content.getChildByName(\"nodeContent\");\n    if (nodeText == null) {\n      var nodeText = instantiate(this.prefabContent);\n      nodeText.name = \"nodeContent\";\n      this.content.insertChild(nodeText, 1);\n    }\n    var cell = nodeText.getComponent(PrefabContentPhoneAddress);\n    cell.updateData(number, type);\n  }\n\n  hidePrefabContent() {\n    var nodeText = this.content.getChildByName(\"nodeContent\");\n    if (nodeText != null) {\n      nodeText.removeFromParent();\n    }\n  }\n\n  addPrefabTools() {\n    var node = instantiate(this.prefabTools);\n    node.name = \"nodeTools\";\n    this.content.addChild(node);\n  }\n\n  hideWarning() {\n    this.lblWarning.node.active = false;\n  }\n\n  showWarning() {\n    this.lblWarning.node.active = true;\n  }\n\n  loadHome() {\n    AudioManager.playSoundClick();\n\n    director.loadScene(\"Home\");\n  }\n}\n"]}