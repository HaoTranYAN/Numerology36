{"version":3,"sources":["file:///Volumes/D/YAN/Numerology36/assets/common/SoundPersistRootNode.ts"],"names":["_decorator","Component","AudioSource","assert","director","AudioManager","ccclass","property","SoundPersistRootNode","start","audioSource","node","getComponent","_audioSource","addPersistRootNode","initSound","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,Q,OAAAA,Q;;AAC5CC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;sCAGjBQ,oB,WADZF,OAAO,CAAC,sBAAD,C,UAELC,QAAQ,CAACL,WAAD,C,2BAFX,MACaM,oBADb,SAC0CP,SAD1C,CACoD;AAAA;AAAA;;AAAA;AAAA;;AAGlDQ,QAAAA,KAAK,GAAG;AACN,gBAAMC,WAAW,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBV,WAAvB,CAApB;AACAC,UAAAA,MAAM,CAACO,WAAD,CAAN;AACA,eAAKG,YAAL,GAAoBH,WAApB,CAHM,CAIN;AACA;;AACAN,UAAAA,QAAQ,CAACU,kBAAT,CAA4B,KAAKH,IAAjC,EANM,CAQN;;AACA;AAAA;AAAA,4CAAaI,SAAb,CAAuB,KAAKF,YAA5B;AACD;;AAEDG,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAfsB,O;;;;;iBAEtB,I","sourcesContent":["import { _decorator, Component, AudioSource, assert, director } from \"cc\";\nimport { AudioManager } from \"./AudioManager\";\n\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"SoundPersistRootNode\")\nexport class SoundPersistRootNode extends Component {\n  @property(AudioSource)\n  _audioSource: AudioSource = null!;\n  start() {\n    const audioSource = this.node.getComponent(AudioSource)!;\n    assert(audioSource);\n    this._audioSource = audioSource;\n    // Declare the resident root node, which will not be destroyed in a scene switch. The target node must be the root node, otherwise it is invalid.\n    //game.addPersistRootNode(this.node);\n    director.addPersistRootNode(this.node);\n\n    // init AudioManager\n    AudioManager.initSound(this._audioSource);\n  }\n\n  update(deltaTime: number) {}\n}\n"]}